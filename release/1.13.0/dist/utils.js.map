{"version":3,"file":"utils.js","sources":["../src/consts.ts","../src/utils.ts","../src/color.ts","../src/dom.ts"],"sourcesContent":["/**\n* @namespace\n* @name Consts\n*/\n\nimport { IObject, OpenCloseCharacter } from \"./types\";\n\n/**\n* get string \"rgb\"\n* @memberof Color\n* @example\nimport {RGB} from \"@daybrush/utils\";\n\nconsole.log(RGB); // \"rgb\"\n*/\nexport const RGB = \"rgb\";\n/**\n* get string \"rgba\"\n* @memberof Color\n* @example\nimport {RGBA} from \"@daybrush/utils\";\n\nconsole.log(RGBA); // \"rgba\"\n*/\nexport const RGBA = \"rgba\";\n/**\n* get string \"hsl\"\n* @memberof Color\n* @example\nimport {HSL} from \"@daybrush/utils\";\n\nconsole.log(HSL); // \"hsl\"\n*/\nexport const HSL = \"hsl\";\n/**\n* get string \"hsla\"\n* @memberof Color\n* @example\nimport {HSLA} from \"@daybrush/utils\";\n\nconsole.log(HSLA); // \"hsla\"\n*/\nexport const HSLA = \"hsla\";\n/**\n* gets an array of color models.\n* @memberof Color\n* @example\nimport {COLOR_MODELS} from \"@daybrush/utils\";\n\nconsole.log(COLOR_MODELS); // [\"rgb\", \"rgba\", \"hsl\", \"hsla\"];\n*/\nexport const COLOR_MODELS = [RGB, RGBA, HSL, HSLA];\n\n/**\n* get string \"function\"\n* @memberof Consts\n* @example\nimport {FUNCTION} from \"@daybrush/utils\";\n\nconsole.log(FUNCTION); // \"function\"\n*/\nexport const FUNCTION = \"function\";\n/**\n* get string \"property\"\n* @memberof Consts\n* @example\nimport {PROPERTY} from \"@daybrush/utils\";\n\nconsole.log(PROPERTY); // \"property\"\n*/\nexport const PROPERTY = \"property\";\n/**\n* get string \"array\"\n* @memberof Consts\n* @example\nimport {ARRAY} from \"@daybrush/utils\";\n\nconsole.log(ARRAY); // \"array\"\n*/\nexport const ARRAY = \"array\";\n/**\n* get string \"object\"\n* @memberof Consts\n* @example\nimport {OBJECT} from \"@daybrush/utils\";\n\nconsole.log(OBJECT); // \"object\"\n*/\nexport const OBJECT = \"object\";\n/**\n* get string \"string\"\n* @memberof Consts\n* @example\nimport {STRING} from \"@daybrush/utils\";\n\nconsole.log(STRING); // \"string\"\n*/\nexport const STRING = \"string\";\n/**\n* get string \"number\"\n* @memberof Consts\n* @example\nimport {NUMBER} from \"@daybrush/utils\";\n\nconsole.log(NUMBER); // \"number\"\n*/\nexport const NUMBER = \"number\";\n/**\n* get string \"undefined\"\n* @memberof Consts\n* @example\nimport {UNDEFINED} from \"@daybrush/utils\";\n\nconsole.log(UNDEFINED); // \"undefined\"\n*/\nexport const UNDEFINED = \"undefined\";\n\n/**\n* Check whether the environment is window or node.js.\n* @memberof Consts\n* @example\nimport {IS_WINDOW} from \"@daybrush/utils\";\n\nconsole.log(IS_WINDOW); // false in node.js\nconsole.log(IS_WINDOW); // true in browser\n*/\nexport const IS_WINDOW = typeof window !== UNDEFINED;\n\n/**\n* Check whether the environment is window or node.js.\n* @memberof Consts\n* @name document\n* @example\nimport {IS_WINDOW} from \"@daybrush/utils\";\n\nconsole.log(IS_WINDOW); // false in node.js\nconsole.log(IS_WINDOW); // true in browser\n*/\nconst doc = (typeof document !== UNDEFINED && document) as Document; // FIXME: this type maybe false\n\nexport {doc as document};\n\nconst prefixes: string[] = [\"webkit\", \"ms\", \"moz\", \"o\"];\n\n/**\n * @namespace CrossBrowser\n */\n\n/**\n* Get a CSS property with a vendor prefix that supports cross browser.\n* @function\n* @param {string} property - A CSS property\n* @return {string} CSS property with cross-browser vendor prefix\n* @memberof CrossBrowser\n* @example\nimport {getCrossBrowserProperty} from \"@daybrush/utils\";\n\nconsole.log(getCrossBrowserProperty(\"transform\")); // \"transform\", \"-ms-transform\", \"-webkit-transform\"\nconsole.log(getCrossBrowserProperty(\"filter\")); // \"filter\", \"-webkit-filter\"\n*/\nexport const getCrossBrowserProperty =  /*#__PURE__*/(property: string) => {\n  if (!doc) {\n    return \"\";\n  }\n  const styles = (doc.body || doc.documentElement).style as any;\n  const length = prefixes.length;\n\n  if (typeof styles[property] !== UNDEFINED) {\n    return property;\n  }\n  for (let i = 0; i < length; ++i) {\n    const name = `-${prefixes[i]}-${property}`;\n\n    if (typeof styles[name] !== UNDEFINED) {\n      return name;\n    }\n  }\n  return \"\";\n};\n\n/**\n* get string \"transfrom\" with the vendor prefix.\n* @memberof CrossBrowser\n* @example\nimport {TRANSFORM} from \"@daybrush/utils\";\n\nconsole.log(TRANSFORM); // \"transform\", \"-ms-transform\", \"-webkit-transform\"\n*/\nexport const TRANSFORM = /*#__PURE__*/getCrossBrowserProperty(\"transform\");\n/**\n* get string \"filter\" with the vendor prefix.\n* @memberof CrossBrowser\n* @example\nimport {FILTER} from \"@daybrush/utils\";\n\nconsole.log(FILTER); // \"filter\", \"-ms-filter\", \"-webkit-filter\"\n*/\nexport const FILTER = /*#__PURE__*/getCrossBrowserProperty(\"filter\");\n/**\n* get string \"animation\" with the vendor prefix.\n* @memberof CrossBrowser\n* @example\nimport {ANIMATION} from \"@daybrush/utils\";\n\nconsole.log(ANIMATION); // \"animation\", \"-ms-animation\", \"-webkit-animation\"\n*/\nexport const ANIMATION = /*#__PURE__*/getCrossBrowserProperty(\"animation\");\n/**\n* get string \"keyframes\" with the vendor prefix.\n* @memberof CrossBrowser\n* @example\nimport {KEYFRAMES} from \"@daybrush/utils\";\n\nconsole.log(KEYFRAMES); // \"keyframes\", \"-ms-keyframes\", \"-webkit-keyframes\"\n*/\nexport const KEYFRAMES = /*#__PURE__*/ANIMATION.replace(\"animation\", \"keyframes\");\n\nexport const OPEN_CLOSED_CHARACTERS: OpenCloseCharacter[] = [\n  { open: \"(\", close: \")\" },\n  { open: `\"`, close: `\"`},\n  { open: `'`, close: `'`},\n  { open: `\\\\\"`, close: `\\\\\"`},\n  { open: `\\\\'`, close: `\\\\'`},\n];\nexport const TINY_NUM = 0.0000001;\nexport const REVERSE_TINY_NUM = 1 / TINY_NUM;\nexport const DEFAULT_UNIT_PRESETS: IObject<(pos: number, size?: number) => number> = {\n  \"cm\": pos => pos * 96 / 2.54,\n  \"mm\": pos => pos * 96 / 254,\n  \"in\": pos => pos * 96,\n  \"pt\": pos => pos * 96 / 72,\n  \"pc\": pos => pos * 96 / 6,\n  \"%\": (pos, size) => pos * size! / 100,\n  \"vw\": (pos, size = window.innerWidth) => pos / 100 * size,\n  \"vh\": (pos, size = window.innerHeight) => pos / 100 * size,\n  \"vmax\": (pos, size = Math.max(window.innerWidth, window.innerHeight)) => pos / 100 * size,\n  \"vmin\": (pos, size = Math.min(window.innerWidth, window.innerHeight)) => pos / 100 * size,\n};\n","import {\n  UNDEFINED, STRING,\n  OBJECT, FUNCTION,\n  IS_WINDOW, OPEN_CLOSED_CHARACTERS, NUMBER,\n  DEFAULT_UNIT_PRESETS,\n  TINY_NUM\n} from \"./consts\";\nimport {\n  FlattedElement,\n  IArrayFormat, IObject, OpenCloseCharacter,\n  SplitOptions,\n} from \"./types\";\n/**\n* @namespace\n* @name Utils\n*/\n\n/**\n * Returns the inner product of two numbers(`a1`, `a2`) by two criteria(`b1`, `b2`).\n * @memberof Utils\n * @param - The first number\n * @param - The second number\n * @param - The first number to base on the inner product\n * @param - The second number to base on the inner product\n * @return - Returns the inner product\nimport { dot } from \"@daybrush/utils\";\n\nconsole.log(dot(0, 15, 2, 3)); // 6\nconsole.log(dot(5, 15, 2, 3)); // 9\nconsole.log(dot(5, 15, 1, 1)); // 10\n */\nexport function dot(a1: number, a2: number, b1: number, b2: number) {\n  return (a1 * b2 + a2 * b1) / (b1 + b2);\n}\n/**\n* Check the type that the value is undefined.\n* @memberof Utils\n* @param {string} value - Value to check the type\n* @return {boolean} true if the type is correct, false otherwise\n* @example\nimport {isUndefined} from \"@daybrush/utils\";\n\nconsole.log(isUndefined(undefined)); // true\nconsole.log(isUndefined(\"\")); // false\nconsole.log(isUndefined(1)); // false\nconsole.log(isUndefined(null)); // false\n*/\nexport function isUndefined(value: any): value is undefined {\n  return (typeof value === UNDEFINED);\n}\n/**\n* Check the type that the value is object.\n* @memberof Utils\n* @param {string} value - Value to check the type\n* @return {} true if the type is correct, false otherwise\n* @example\nimport {isObject} from \"@daybrush/utils\";\n\nconsole.log(isObject({})); // true\nconsole.log(isObject(undefined)); // false\nconsole.log(isObject(\"\")); // false\nconsole.log(isObject(null)); // false\n*/\nexport function isObject(value: any): value is IObject<any> {\n  return value && (typeof value === OBJECT);\n}\n/**\n* Check the type that the value is isArray.\n* @memberof Utils\n* @param {string} value - Value to check the type\n* @return {} true if the type is correct, false otherwise\n* @example\nimport {isArray} from \"@daybrush/utils\";\n\nconsole.log(isArray([])); // true\nconsole.log(isArray({})); // false\nconsole.log(isArray(undefined)); // false\nconsole.log(isArray(null)); // false\n*/\nexport function isArray(value: any): value is any[] {\n  return Array.isArray(value);\n}\n/**\n* Check the type that the value is string.\n* @memberof Utils\n* @param {string} value - Value to check the type\n* @return {} true if the type is correct, false otherwise\n* @example\nimport {isString} from \"@daybrush/utils\";\n\nconsole.log(isString(\"1234\")); // true\nconsole.log(isString(undefined)); // false\nconsole.log(isString(1)); // false\nconsole.log(isString(null)); // false\n*/\nexport function isString(value: any): value is string {\n  return typeof value === STRING;\n}\n\nexport function isNumber(value: any): value is number {\n  return typeof value === NUMBER;\n}\n\n/**\n* Check the type that the value is function.\n* @memberof Utils\n* @param {string} value - Value to check the type\n* @return {} true if the type is correct, false otherwise\n* @example\nimport {isFunction} from \"@daybrush/utils\";\n\nconsole.log(isFunction(function a() {})); // true\nconsole.log(isFunction(() => {})); // true\nconsole.log(isFunction(\"1234\")); // false\nconsole.log(isFunction(1)); // false\nconsole.log(isFunction(null)); // false\n*/\nexport function isFunction(value: any): value is (...args: any[]) => any {\n  return typeof value === FUNCTION;\n}\nfunction isEqualSeparator(\n  character: string,\n  separator: string,\n) {\n  const isCharacterSpace = character === \"\" || character == \" \";\n  const isSeparatorSpace = separator === \"\" || separator == \" \";\n\n  return (isSeparatorSpace && isCharacterSpace) || character === separator;\n}\nfunction findOpen(\n  openCharacter: OpenCloseCharacter,\n  texts: string[],\n  index: number,\n  length: number,\n  openCloseCharacters: OpenCloseCharacter[],\n) {\n  const isIgnore = findIgnore(openCharacter, texts, index);\n\n  if (!isIgnore) {\n    return findClose(openCharacter, texts, index + 1, length, openCloseCharacters);\n  }\n  return index;\n}\nfunction findIgnore(\n  character: OpenCloseCharacter,\n  texts: string[],\n  index: number,\n) {\n  if (!character.ignore) {\n    return null;\n  }\n  const otherText = texts.slice(Math.max(index - 3, 0), index + 3).join(\"\");\n\n  return new RegExp(character.ignore).exec(otherText);\n\n}\nfunction findClose(\n  closeCharacter: OpenCloseCharacter,\n  texts: string[],\n  index: number,\n  length: number,\n  openCloseCharacters: OpenCloseCharacter[],\n) {\n  for (let i = index; i < length; ++i) {\n    const character = texts[i].trim();\n\n    if (character === closeCharacter.close && !findIgnore(closeCharacter, texts, i)) {\n      return i;\n    }\n    let nextIndex = i;\n    // re open\n    const openCharacter = find(openCloseCharacters, ({ open }) => open === character);\n\n    if (openCharacter) {\n      nextIndex = findOpen(openCharacter, texts, i, length, openCloseCharacters);\n    }\n    if (nextIndex === -1) {\n      break;\n    }\n    i = nextIndex;\n  }\n  return -1;\n}\n\nexport function splitText(\n  text: string,\n  splitOptions: string | SplitOptions,\n): string[] {\n  const {\n    separator = \",\",\n    isSeparateFirst,\n    isSeparateOnlyOpenClose,\n    isSeparateOpenClose = isSeparateOnlyOpenClose,\n    openCloseCharacters = OPEN_CLOSED_CHARACTERS,\n  } = isString(splitOptions) ? {\n    separator: splitOptions,\n  } as SplitOptions : splitOptions;\n  const openClosedText = openCloseCharacters.map(({ open, close }) => {\n    if (open === close) {\n      return open;\n    }\n    return `${open}|${close}`;\n  }).join(\"|\");\n  const regexText = `(\\\\s*${separator}\\\\s*|${openClosedText}|\\\\s+)`;\n  const regex = new RegExp(regexText, \"g\");\n  const texts = text.split(regex).filter(chr => {\n    return chr && chr !== \"undefined\";\n  });\n  const length = texts.length;\n  const values: string[] = [];\n  let tempValues: string[] = [];\n\n  function resetTemp() {\n    if (tempValues.length) {\n      values.push(tempValues.join(\"\"));\n      tempValues = [];\n\n      return true;\n    }\n    return false;\n  }\n  for (let i = 0; i < length; ++i) {\n    const character = texts[i].trim();\n    let nextIndex = i;\n\n\n    const openCharacter = find(openCloseCharacters, ({ open }) => open === character);\n    const closeCharacter = find(openCloseCharacters, ({ close }) => close === character);\n\n    if (openCharacter) {\n      nextIndex = findOpen(openCharacter, texts, i, length, openCloseCharacters);\n\n      if (nextIndex !== -1 && isSeparateOpenClose) {\n        if (resetTemp() && isSeparateFirst) {\n          break;\n        }\n        values.push(texts.slice(i, nextIndex + 1).join(\"\"));\n        i = nextIndex;\n\n        if (isSeparateFirst) {\n          break;\n        }\n        continue;\n      }\n    } else if (closeCharacter && !findIgnore(closeCharacter, texts, i)) {\n      const nextOpenCloseCharacters = [...openCloseCharacters];\n\n      nextOpenCloseCharacters.splice(openCloseCharacters.indexOf(closeCharacter), 1);\n\n      return splitText(\n        text,\n        {\n          separator,\n          isSeparateFirst,\n          isSeparateOnlyOpenClose,\n          isSeparateOpenClose,\n          openCloseCharacters: nextOpenCloseCharacters,\n        });\n    } else if (isEqualSeparator(character, separator) && !isSeparateOnlyOpenClose) {\n      resetTemp();\n      if (isSeparateFirst) {\n        break;\n      }\n      continue;\n    }\n\n    if (nextIndex === -1) {\n      nextIndex = length - 1;\n    }\n    tempValues.push(texts.slice(i, nextIndex + 1).join(\"\"));\n    i = nextIndex;\n  }\n  if (tempValues.length) {\n    values.push(tempValues.join(\"\"));\n  }\n  return values;\n}\n\n/**\n* divide text by space.\n* @memberof Utils\n* @param {string} text - text to divide\n* @return {Array} divided texts\n* @example\nimport {spliceSpace} from \"@daybrush/utils\";\n\nconsole.log(splitSpace(\"a b c d e f g\"));\n// [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\"]\nconsole.log(splitSpace(\"'a,b' c 'd,e' f g\"));\n// [\"'a,b'\", \"c\", \"'d,e'\", \"f\", \"g\"]\n*/\nexport function splitSpace(text: string) {\n  // divide comma(space)\n  return splitText(text, \"\");\n}\n\n/**\n* divide text by comma.\n* @memberof Utils\n* @param {string} text - text to divide\n* @return {Array} divided texts\n* @example\nimport {splitComma} from \"@daybrush/utils\";\n\nconsole.log(splitComma(\"a,b,c,d,e,f,g\"));\n// [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\"]\nconsole.log(splitComma(\"'a,b',c,'d,e',f,g\"));\n// [\"'a,b'\", \"c\", \"'d,e'\", \"f\", \"g\"]\n*/\nexport function splitComma(text: string): string[] {\n  // divide comma(,)\n  // \"[^\"]*\"|'[^']*'\n  return splitText(text, \",\");\n}\n/**\n* divide text by bracket \"(\", \")\".\n* @memberof Utils\n* @param {string} text - text to divide\n* @return {object} divided texts\n* @example\nimport {splitBracket} from \"@daybrush/utils\";\n\nconsole.log(splitBracket(\"a(1, 2)\"));\n// {prefix: \"a\", value: \"1, 2\", suffix: \"\"}\nconsole.log(splitBracket(\"a(1, 2)b\"));\n// {prefix: \"a\", value: \"1, 2\", suffix: \"b\"}\n*/\nexport function splitBracket(text: string) {\n  const matches = (/([^(]*)\\(([\\s\\S]*)\\)([\\s\\S]*)/g).exec(text);\n\n  if (!matches || matches.length < 4) {\n    return {};\n  } else {\n    return { prefix: matches[1], value: matches[2], suffix: matches[3] };\n  }\n}\n/**\n* divide text by number and unit.\n* @memberof Utils\n* @param {string} text - text to divide\n* @return {} divided texts\n* @example\nimport {splitUnit} from \"@daybrush/utils\";\n\nconsole.log(splitUnit(\"10px\"));\n// {prefix: \"\", value: 10, unit: \"px\"}\nconsole.log(splitUnit(\"-10px\"));\n// {prefix: \"\", value: -10, unit: \"px\"}\nconsole.log(splitUnit(\"a10%\"));\n// {prefix: \"a\", value: 10, unit: \"%\"}\n*/\nexport function splitUnit(text: string): { prefix: string, unit: string, value: number } {\n  const matches = /^([^\\d|e|\\-|\\+]*)((?:\\d|\\.|-|e-|e\\+)+)(\\S*)$/g.exec(text);\n\n  if (!matches) {\n    return { prefix: \"\", unit: \"\", value: NaN };\n  }\n  const prefix = matches[1];\n  const value = matches[2];\n  const unit = matches[3];\n\n  return { prefix, unit, value: parseFloat(value) };\n}\n\n/**\n* transform strings to camel-case\n* @memberof Utils\n* @param {String} text - string\n* @return {String} camel-case string\n* @example\nimport {camelize} from \"@daybrush/utils\";\n\nconsole.log(camelize(\"transform-origin\")); // transformOrigin\nconsole.log(camelize(\"abcd_efg\")); // abcdEfg\nconsole.log(camelize(\"abcd efg\")); // abcdEfg\n*/\nexport function camelize(str: string) {\n  return str.replace(/[\\s-_]+([^\\s-_])/g, (all, letter) => letter.toUpperCase());\n}\n/**\n* transform a camelized string into a lowercased string.\n* @memberof Utils\n* @param {string} text - a camel-cased string\n* @param {string} [separator=\"-\"] - a separator\n* @return {string}  a lowercased string\n* @example\nimport {decamelize} from \"@daybrush/utils\";\n\nconsole.log(decamelize(\"transformOrigin\")); // transform-origin\nconsole.log(decamelize(\"abcdEfg\", \"_\")); // abcd_efg\n*/\nexport function decamelize(str: string, separator: string = \"-\") {\n  return str.replace(/([a-z])([A-Z])/g, (all, letter, letter2) => `${letter}${separator}${letter2.toLowerCase()}`);\n}\n\n/**\n* transforms something in an array into an array.\n* @memberof Utils\n* @param - Array form\n* @return an array\n* @example\nimport {toArray} from \"@daybrush/utils\";\n\nconst arr1 = toArray(document.querySelectorAll(\".a\")); // Element[]\nconst arr2 = toArray(document.querySelectorAll<HTMLElement>(\".a\")); // HTMLElement[]\n*/\nexport function toArray<T>(value: IArrayFormat<T>): T[] {\n  return [].slice.call(value);\n}\n\n/**\n* Date.now() method\n* @memberof CrossBrowser\n* @return {number} milliseconds\n* @example\nimport {now} from \"@daybrush/utils\";\n\nconsole.log(now()); // 12121324241(milliseconds)\n*/\nexport function now() {\n  return Date.now ? Date.now() : new Date().getTime();\n}\n\n/**\n* Returns the index of the first element in the array that satisfies the provided testing function.\n* @function\n* @memberof CrossBrowser\n* @param - The array `findIndex` was called upon.\n* @param - A function to execute on each value in the array until the function returns true, indicating that the satisfying element was found.\n* @param - Returns defaultIndex if not found by the function.\n* @example\nimport { findIndex } from \"@daybrush/utils\";\n\nfindIndex([{a: 1}, {a: 2}, {a: 3}, {a: 4}], ({ a }) => a === 2); // 1\n*/\nexport function findIndex<T>(\n  arr: T[],\n  callback: (element: T, index: number, arr: T[]) => any,\n  defaultIndex: number = -1,\n): number {\n  const length = arr.length;\n\n  for (let i = 0; i < length; ++i) {\n    if (callback(arr[i], i, arr)) {\n      return i;\n    }\n  }\n  return defaultIndex;\n}\n\n/**\n* Returns the reverse direction index of the first element in the array that satisfies the provided testing function.\n* @function\n* @memberof CrossBrowser\n* @param - The array `findLastIndex` was called upon.\n* @param - A function to execute on each value in the array until the function returns true, indicating that the satisfying element was found.\n* @param - Returns defaultIndex if not found by the function.\n* @example\nimport { findLastIndex } from \"@daybrush/utils\";\n\nfindLastIndex([{a: 1}, {a: 2}, {a: 3}, {a: 4}], ({ a }) => a === 2); // 1\n*/\nexport function findLastIndex<T>(\n  arr: T[],\n  callback: (element: T, index: number, arr: T[]) => any,\n  defaultIndex: number = -1,\n): number {\n  const length = arr.length;\n\n  for (let i = length - 1; i >= 0; --i) {\n    if (callback(arr[i], i, arr)) {\n      return i;\n    }\n  }\n  return defaultIndex;\n}\n\n/**\n* Returns the value of the reverse direction element in the array that satisfies the provided testing function.\n* @function\n* @memberof CrossBrowser\n* @param - The array `findLast` was called upon.\n* @param - A function to execute on each value in the array,\n* @param - Returns defalutValue if not found by the function.\n* @example\nimport { find } from \"@daybrush/utils\";\n\nfind([{a: 1}, {a: 2}, {a: 3}, {a: 4}], ({ a }) => a === 2); // {a: 2}\n*/\nexport function findLast<T>(\n  arr: T[],\n  callback: (element: T, index: number, arr: T[]) => any,\n  defalutValue?: T,\n): T | undefined {\n  const index = findLastIndex(arr, callback);\n\n  return index > - 1 ? arr[index] : defalutValue;\n}\n/**\n* Returns the value of the first element in the array that satisfies the provided testing function.\n* @function\n* @memberof CrossBrowser\n* @param - The array `find` was called upon.\n* @param - A function to execute on each value in the array,\n* @param - Returns defalutValue if not found by the function.\n* @example\nimport { find } from \"@daybrush/utils\";\n\nfind([{a: 1}, {a: 2}, {a: 3}, {a: 4}], ({ a }) => a === 2); // {a: 2}\n*/\nexport function find<T>(\n  arr: T[],\n  callback: (element: T, index: number, arr: T[]) => any,\n  defalutValue?: T,\n): T | undefined {\n  const index = findIndex(arr, callback);\n\n  return index > - 1 ? arr[index] : defalutValue;\n}\n\n/**\n* window.requestAnimationFrame() method with cross browser.\n* @function\n* @memberof CrossBrowser\n* @param {FrameRequestCallback} callback - The function to call when it's time to update your animation for the next repaint.\n* @return {number} id\n* @example\nimport {requestAnimationFrame} from \"@daybrush/utils\";\n\nrequestAnimationFrame((timestamp) => {\n  console.log(timestamp);\n});\n*/\nexport const requestAnimationFrame = /*#__PURE__*/(() => {\n  const firstTime = now();\n\n  const raf = IS_WINDOW\n    && (window.requestAnimationFrame || (window as any).webkitRequestAnimationFrame\n      || (window as any).mozRequestAnimationFrame || (window as any).msRequestAnimationFrame);\n\n  return raf ? (raf.bind(window) as (callback: FrameRequestCallback) => number) : ((callback: FrameRequestCallback) => {\n    const currTime = now();\n    const id = setTimeout(() => {\n      callback(currTime - firstTime);\n    }, 1000 / 60);\n\n    return id as any as number;\n  });\n})();\n\n/**\n* window.cancelAnimationFrame() method with cross browser.\n* @function\n* @memberof CrossBrowser\n* @param {number} handle - the id obtained through requestAnimationFrame method\n* @return {void}\n* @example\nimport { requestAnimationFrame, cancelAnimationFrame } from \"@daybrush/utils\";\n\nconst id = requestAnimationFrame((timestamp) => {\n  console.log(timestamp);\n});\n\ncancelAnimationFrame(id);\n*/\nexport const cancelAnimationFrame = /*#__PURE__*/(() => {\n  const caf = IS_WINDOW\n    && (window.cancelAnimationFrame || (window as any).webkitCancelAnimationFrame\n      || (window as any).mozCancelAnimationFrame || (window as any).msCancelAnimationFrame);\n\n  return caf\n    ? caf.bind(window) as (handle: number) => void\n    : ((handle: number) => { clearTimeout(handle); });\n})();\n\n/**\n* @function\n* @memberof Utils\n*/\nexport function getKeys(obj: IObject<any>): string[] {\n  return Object.keys(obj);\n}\n\n/**\n* @function\n* @memberof Utils\n*/\nexport function getValues(obj: IObject<any>): any[] {\n  const keys = getKeys(obj);\n\n  return keys.map(key => obj[key]);\n}\n/**\n* @function\n* @memberof Utils\n*/\nexport function getEntries(obj: IObject<any>): [string, any][] {\n  const keys = getKeys(obj);\n\n  return keys.map(key => [key, obj[key]]);\n}\n\n/**\n* @function\n* @memberof Utils\n*/\nexport function sortOrders(keys: Array<string | number>, orders: Array<string | number> = []) {\n  keys.sort((a, b) => {\n    const index1 = orders.indexOf(a);\n    const index2 = orders.indexOf(b);\n\n    if (index2 === -1 && index1 === -1) {\n      return 0;\n    }\n    if (index1 === -1) {\n      return 1;\n    }\n    if (index2 === -1) {\n      return -1;\n    }\n    return index1 - index2;\n  });\n}\n\n/**\n* convert unit size to px size\n* @function\n* @memberof Utils\n*/\nexport function convertUnitSize(pos: string, size: number | IObject<((pos: number) => number) | number>) {\n  const { value, unit } = splitUnit(pos);\n\n  if (isObject(size)) {\n    const sizeFunction = size[unit];\n    if (sizeFunction) {\n      if (isFunction(sizeFunction)) {\n        return sizeFunction(value);\n      } else if (DEFAULT_UNIT_PRESETS[unit]) {\n        return DEFAULT_UNIT_PRESETS[unit](value, sizeFunction);\n      }\n    }\n  } else if (unit === \"%\") {\n    return value * size / 100;\n  }\n  if (DEFAULT_UNIT_PRESETS[unit]) {\n    return DEFAULT_UNIT_PRESETS[unit](value);\n  }\n  return value;\n}\n\n/**\n* calculate between min, max\n* @function\n* @memberof Utils\n*/\nexport function between(value: number, min: number, max: number): number {\n  return Math.max(min, Math.min(value, max));\n}\n\nexport function checkBoundSize(targetSize: number[], compareSize: number[], isMax: boolean, ratio = targetSize[0] / targetSize[1]) {\n  return [\n    [throttle(compareSize[0], TINY_NUM), throttle(compareSize[0] / ratio, TINY_NUM)],\n    [throttle(compareSize[1] * ratio, TINY_NUM), throttle(compareSize[1], TINY_NUM)],\n  ].filter(size => size.every((value, i) => {\n    const defaultSize = compareSize[i];\n    const throttledSize = throttle(defaultSize, TINY_NUM);\n\n    return isMax ? value <= defaultSize || value <= throttledSize : value >= defaultSize || value >= throttledSize;\n  }))[0] || targetSize;\n}\n\n/**\n* calculate bound size\n* @function\n* @memberof Utils\n*/\nexport function calculateBoundSize(\n  size: number[],\n  minSize: number[],\n  maxSize: number[],\n  keepRatio?: number | boolean,\n): number[] {\n  if (!keepRatio) {\n    return size.map((value, i) => between(value, minSize[i], maxSize[i]));\n  }\n  let [width, height] = size;\n\n  const ratio = keepRatio === true ? width / height : keepRatio;\n  // width : height = minWidth : minHeight;\n  const [minWidth, minHeight] = checkBoundSize(size, minSize, false, ratio);\n  const [maxWidth, maxHeight] = checkBoundSize(size, maxSize, true, ratio);\n\n  if (width < minWidth || height < minHeight) {\n    width = minWidth;\n    height = minHeight;\n  } else if (width > maxWidth || height > maxHeight) {\n    width = maxWidth;\n    height = maxHeight;\n  }\n  return [width, height];\n}\n\n\n/**\n* Add all the numbers.\n* @function\n* @memberof Utils\n*/\nexport function sum(nums: number[]): number {\n  const length = nums.length;\n  let total = 0;\n\n  for (let i = length - 1; i >= 0; --i) {\n    total += nums[i];\n  }\n  return total;\n}\n\n/**\n* Average all numbers.\n* @function\n* @memberof Utils\n*/\nexport function average(nums: number[]) {\n  const length = nums.length;\n  let total = 0;\n\n  for (let i = length - 1; i >= 0; --i) {\n    total += nums[i];\n  }\n  return length ? total / length : 0;\n}\n/**\n* Get the angle of two points. (0 <= rad < 359)\n* @function\n* @memberof Utils\n*/\nexport function getRad(pos1: number[], pos2: number[]): number {\n  const distX = pos2[0] - pos1[0];\n  const distY = pos2[1] - pos1[1];\n  const rad = Math.atan2(distY, distX);\n\n  return rad >= 0 ? rad : rad + Math.PI * 2;\n}\n/**\n* Get the average point of all points.\n* @function\n* @memberof Utils\n*/\nexport function getCenterPoint(points: number[][]): number[] {\n  return [0, 1].map(i => average(points.map(pos => pos[i])));\n}\n/**\n* Gets the direction of the shape.\n* @function\n* @memberof Utils\n*/\nexport function getShapeDirection(points: number[][]): 1 | -1 {\n  const center = getCenterPoint(points);\n  const pos1Rad = getRad(center, points[0]);\n  const pos2Rad = getRad(center, points[1]);\n\n  return (pos1Rad < pos2Rad && pos2Rad - pos1Rad < Math.PI) || (pos1Rad > pos2Rad && pos2Rad - pos1Rad < -Math.PI)\n    ? 1 : -1;\n}\n\n/**\n* Get the distance between two points.\n* @function\n* @memberof Utils\n*/\nexport function getDist(a: number[], b?: number[]) {\n  return Math.sqrt(Math.pow((b ? b[0] : 0) - a[0], 2) + Math.pow((b ? b[1] : 0) - a[1], 2));\n}\n\n/**\n* throttle number depending on the unit.\n* @function\n* @memberof Utils\n*/\nexport function throttle(num: number, unit?: number) {\n  if (!unit) {\n    return num;\n  }\n  const reverseUnit = 1 / unit;\n  return Math.round(num / unit) / reverseUnit;\n}\n\n/**\n* throttle number array depending on the unit.\n* @function\n* @memberof Utils\n*/\nexport function throttleArray(nums: number[], unit?: number) {\n  nums.forEach((_, i) => {\n    nums[i] = throttle(nums[i], unit);\n  });\n  return nums;\n}\n\n/**\n* @function\n* @memberof Utils\n*/\nexport function counter(num: number): number[] {\n  const nums: number[] = [];\n\n  for (let i = 0; i < num; ++i) {\n    nums.push(i);\n  }\n\n  return nums;\n}\n\n/**\n* @function\n* @memberof Utils\n*/\nexport function replaceOnce(text: string, fromText: RegExp | string, toText: string | ((...args: any[]) => string)): string {\n  let isOnce = false;\n  return text.replace(fromText, (...args: any[]) => {\n    if (isOnce) {\n      return args[0];\n    }\n    isOnce = true;\n    return isString(toText) ? toText : toText(...args);\n  });\n}\n\n\n/**\n* @function\n* @memberof Utils\n*/\nexport function flat<Type>(arr: Type[][]): Type[] {\n  return arr.reduce((prev, cur) => {\n    return prev.concat(cur);\n  }, []);\n}\n\n/**\n* @function\n* @memberof Utils\n*/\nexport function deepFlat<T extends any[]>(arr: T): Array<FlattedElement<T[0]>> {\n  return arr.reduce((prev, cur) => {\n    if (isArray(cur)) {\n      prev.push(...deepFlat(cur));\n    } else {\n      prev.push(cur);\n    }\n    return prev;\n  }, [] as any[]);\n}\n\n\n/**\n * @function\n * @memberof Utils\n */\nexport function pushSet<T>(elements: T[], element: T) {\n  if (elements.indexOf(element) === -1) {\n    elements.push(element);\n  }\n}\n","import { RGB, RGBA, HSL, HSLA } from \"./consts\";\nimport { splitBracket, splitComma } from \"./utils\";\n\n/**\n* @namespace\n* @name Color\n*/\n\n/**\n* Remove the # from the hex color.\n* @memberof Color\n* @param {} hex - hex color\n* @return {} hex color\n* @example\nimport {cutHex} from \"@daybrush/utils\";\n\nconsole.log(cutHex(\"#000000\")) // \"000000\"\n*/\nexport function cutHex(hex: string) {\n  return hex.replace(\"#\", \"\");\n}\n/**\n* convert hex color to rgb color.\n* @memberof Color\n* @param {} hex - hex color\n* @return {} rgb color\n* @example\nimport {hexToRGBA} from \"@daybrush/utils\";\n\nconsole.log(hexToRGBA(\"#00000005\"));\n// [0, 0, 0, 1]\nconsole.log(hexToRGBA(\"#201045\"));\n// [32, 16, 69, 1]\n*/\nexport function hexToRGBA(hex: string): [number, number, number, number] {\n  const h = cutHex(hex);\n  const r = parseInt(h.substring(0, 2), 16);\n  const g = parseInt(h.substring(2, 4), 16);\n  const b = parseInt(h.substring(4, 6), 16);\n  let a = parseInt(h.substring(6, 8), 16) / 255;\n\n  if (isNaN(a)) {\n    a = 1;\n  }\n  return [r, g, b, a];\n}\n\n/**\n* convert 3(or 4)-digit hex color to 6(or 8)-digit hex color.\n* @memberof Color\n* @param {} hex - 3(or 4)-digit hex color\n* @return {} 6(or 8)-digit hex color\n* @example\nimport {toFullHex} from \"@daybrush/utils\";\n\nconsole.log(toFullHex(\"#123\")); // \"#112233\"\nconsole.log(toFullHex(\"#123a\")); // \"#112233aa\"\n*/\nexport function toFullHex(h: string): string {\n  const r = h.charAt(1);\n  const g = h.charAt(2);\n  const b = h.charAt(3);\n  const a = h.charAt(4);\n  const arr = [\"#\", r, r, g, g, b, b, a, a];\n\n  return arr.join(\"\");\n}\n/**\n* convert hsl color to rgba color.\n* @memberof Color\n* @param {} hsl - hsl color(hue: 0 ~ 360, saturation: 0 ~ 1, lightness: 0 ~ 1, alpha: 0 ~ 1)\n* @return {} rgba color\n* @example\nimport {hslToRGBA} from \"@daybrush/utils\";\n\nconsole.log(hslToRGBA([150, 0.5, 0.4]));\n// [51, 153, 102, 1]\n*/\nexport function hslToRGBA(hsl: readonly [number, number, number, number?]): [number, number, number, number] {\n  let h = hsl[0];\n  const s = hsl[1];\n  const l = hsl[2];\n\n  if (h < 0) {\n    h +=  Math.floor((Math.abs(h) + 360) / 360) * 360;\n  }\n  h %= 360;\n\n  const c = (1 - Math.abs(2 * l - 1)) * s;\n  const x = c * (1 - Math.abs((h / 60) % 2 - 1));\n  const m = l - c / 2;\n  let rgb: [number, number, number];\n\n  if (h < 60) {\n    rgb = [c, x, 0];\n  } else if (h < 120) {\n    rgb = [x, c, 0];\n  } else if (h < 180) {\n    rgb = [0, c, x];\n  } else if (h < 240) {\n    rgb = [0, x, c];\n  } else if (h < 300) {\n    rgb = [x, 0, c];\n  } else if (h < 360) {\n    rgb = [c, 0, x];\n  } else {\n    rgb = [0, 0, 0];\n  }\n\n  return [\n    Math.round((rgb[0] + m) * 255),\n    Math.round((rgb[1] + m) * 255),\n    Math.round((rgb[2] + m) * 255),\n    hsl[3] ?? 1,\n  ];\n}\n/**\n* convert string to rgba color.\n* @memberof Color\n* @param {} - 3-hex(#000), 4-hex(#0000) 6-hex(#000000), 8-hex(#00000000) or RGB(A), or HSL(A)\n* @return {} rgba color\n* @example\nimport {stringToRGBA} from \"@daybrush/utils\";\n\nconsole.log(stringToRGBA(\"#000000\")); // [0, 0, 0, 1]\nconsole.log(stringToRGBA(\"rgb(100, 100, 100)\")); // [100, 100, 100, 1]\nconsole.log(stringToRGBA(\"hsl(150, 0.5, 0.4)\")); // [51, 153, 102, 1]\n*/\nexport function stringToRGBA(color: string): [number, number, number, number] {\n  if (color.charAt(0) === \"#\") {\n    if (color.length === 4 || color.length === 5) {\n      return hexToRGBA(toFullHex(color));\n    } else {\n      return hexToRGBA(color);\n    }\n  } else if (color.indexOf(\"(\") !== -1) {\n    // in bracket.\n    const {prefix, value} = splitBracket(color);\n\n    if (!prefix || !value) {\n      return undefined as never;\n    }\n    const arr = splitComma(value);\n    const colorArr: [number, number, number, number] = [0, 0, 0, 1];\n    const length = arr.length;\n\n    switch (prefix) {\n      case RGB:\n      case RGBA:\n        for (let i = 0; i < length; ++i) {\n          colorArr[i] = parseFloat(arr[i]);\n        }\n        return colorArr;\n      case HSL:\n      case HSLA:\n        for (let i = 0; i < length; ++i) {\n          if (arr[i].indexOf(\"%\") !== -1) {\n            colorArr[i] = parseFloat(arr[i]) / 100;\n          } else {\n            colorArr[i] = parseFloat(arr[i]);\n          }\n        }\n        // hsl, hsla to rgba\n        return hslToRGBA(colorArr);\n    }\n  }\n  return undefined as never;\n}\n","import { document } from \"./consts\";\nimport { IObject, IEventMap } from \"./types\";\nimport { isObject } from \"./utils\";\n\n/**\n * @namespace DOM\n */\n\nexport function $<K extends keyof HTMLElementTagNameMap>(selectors: K, multi: true):\n  NodeListOf<HTMLElementTagNameMap[K]>;\nexport function $<K extends keyof SVGElementTagNameMap>(selectors: K, multi: true): NodeListOf<SVGElementTagNameMap[K]>;\nexport function $<E extends Element = Element>(selectors: string, multi: true): NodeListOf<E>;\n\nexport function $<K extends keyof HTMLElementTagNameMap>(selectors: K, multi?: false): HTMLElementTagNameMap[K] | null;\nexport function $<K extends keyof SVGElementTagNameMap>(selectors: K, multi?: false): SVGElementTagNameMap[K] | null;\nexport function $<E extends Element = Element>(selectors: string, multi?: false): E | null;\n/**\n * Returns all element descendants of node that\n * match selectors.\n */\n\n/**\n * Checks if the specified class value exists in the element's class attribute.\n * @memberof DOM\n * @param - A DOMString containing one or more selectors to match\n * @param - If multi is true, a DOMString containing one or more selectors to match against.\n * @example\nimport {$} from \"@daybrush/utils\";\n\nconsole.log($(\"div\")); // div element\nconsole.log($(\"div\", true)); // [div, div] elements\n*/\nexport function $<E extends Element = Element>(selectors: string, multi?: boolean): E | NodeListOf<E> | null {\n  if (!document) {\n    return multi ? [] as any : null;\n  }\n  return multi ? document.querySelectorAll<E>(selectors) : document.querySelector<E>(selectors);\n}\n\n/**\n* Checks if the specified class value exists in the element's class attribute.\n* @memberof DOM\n* @param element - target\n* @param className - the class name to search\n* @return {boolean} return false if the class is not found.\n* @example\nimport {hasClass} from \"@daybrush/utils\";\n\nconsole.log(hasClass(element, \"start\")); // true or false\n*/\nexport function hasClass(element: Element, className: string) {\n  if (element.classList) {\n    return element.classList.contains(className);\n  }\n  return !!element.className.match(new RegExp(`(\\\\s|^)${className}(\\\\s|$)`));\n}\n\n/**\n* Add the specified class value. If these classe already exist in the element's class attribute they are ignored.\n* @memberof DOM\n* @param element - target\n* @param className - the class name to add\n* @example\nimport {addClass} from \"@daybrush/utils\";\n\naddClass(element, \"start\");\n*/\nexport function addClass(element: Element, className: string) {\n  if (element.classList) {\n    element.classList.add(className);\n  } else {\n    element.className += ` ${className}`;\n  }\n}\n\n/**\n* Removes the specified class value.\n* @memberof DOM\n* @param element - target\n* @param className - the class name to remove\n* @example\nimport {removeClass} from \"@daybrush/utils\";\n\nremoveClass(element, \"start\");\n*/\nexport function removeClass(element: Element, className: string) {\n  if (element.classList) {\n    element.classList.remove(className);\n  } else {\n    const reg = new RegExp(`(\\\\s|^)${className}(\\\\s|$)`);\n\n    element.className = element.className.replace(reg, \" \");\n  }\n}\n\n/**\n* Gets the CSS properties from the element.\n* @memberof DOM\n* @param elements - elements\n* @param properites - the CSS properties\n* @return returns CSS properties and values.\n* @example\nimport {fromCSS} from \"@daybrush/utils\";\n\nconsole.log(fromCSS(element, [\"left\", \"opacity\", \"top\"])); // {\"left\": \"10px\", \"opacity\": 1, \"top\": \"10px\"}\n*/\nexport function fromCSS(\n  elements: Element | Element[] | NodeListOf<Element>, properties: string[]): IObject<any> {\n  if (!elements || !properties || !properties.length) {\n    return {};\n  }\n  let element;\n\n  if (elements instanceof Element) {\n    element = elements;\n  } else if (elements.length) {\n    element = elements[0];\n  } else {\n    return {};\n  }\n  const cssObject: IObject<any> = {};\n  const styles = getWindow(element).getComputedStyle(element) as any;\n  const length = properties.length;\n\n  for (let i = 0; i < length; ++i) {\n    cssObject[properties[i]] = styles[properties[i]];\n  }\n  return cssObject;\n}\n\nexport function addEvent<K extends keyof IEventMap>(\n  el: EventTarget, type: K, listener: (e: IEventMap[K]) => void, options?: boolean | AddEventListenerOptions): void;\n/**\n* Sets up a function that will be called whenever the specified event is delivered to the target\n* @memberof DOM\n* @param - event target\n* @param - A case-sensitive string representing the event type to listen for.\n* @param - The object which receives a notification (an object that implements the Event interface) when an event of the specified type occurs\n* @param - An options object that specifies characteristics about the event listener.\n* @example\nimport {addEvent} from \"@daybrush/utils\";\n\naddEvent(el, \"click\", e => {\n  console.log(e);\n});\n*/\nexport function addEvent(\n  el: EventTarget,\n  type: string, listener: (e: Event) => void,\n  options?: boolean | AddEventListenerOptions) {\n  el.addEventListener(type, listener, options);\n}\n\nexport function removeEvent<K extends keyof IEventMap>(\n  el: EventTarget, type: K, listener: (e: IEventMap[K]) => void, options?: boolean | EventListenerOptions): void;\n/**\n* removes from the EventTarget an event listener previously registered with EventTarget.addEventListener()\n* @memberof DOM\n* @param - event target\n* @param - A case-sensitive string representing the event type to listen for.\n* @param - The EventListener function of the event handler to remove from the event target.\n* @param - An options object that specifies characteristics about the event listener.\n* @example\nimport {addEvent, removeEvent} from \"@daybrush/utils\";\nconst listener = e => {\n  console.log(e);\n};\naddEvent(el, \"click\", listener);\nremoveEvent(el, \"click\", listener);\n*/\nexport function removeEvent(\n  el: EventTarget, type: string,\n  listener: (e: Event) => void,\n  options?: boolean | EventListenerOptions,\n) {\n  el.removeEventListener(type, listener, options);\n}\n\n\nexport function getDocument(el?: Node) {\n  return el?.ownerDocument || document;\n}\n\nexport function getDocumentElement(el?: Node) {\n  return getDocument(el).documentElement;\n}\n\nexport function getDocumentBody(el?: Node) {\n  return getDocument(el).body;\n}\n\nexport function getWindow(el?: Node) {\n  return el?.ownerDocument?.defaultView || window;\n}\n\n\nexport function isWindow(val: any): val is Window {\n  return val && \"postMessage\" in val && \"blur\" in val && \"self\" in val;\n}\n\nexport function isNode(el?: any): el is Node {\n  return isObject(el) && el.nodeName && el.nodeType && \"ownerDocument\" in el;\n}\n"],"names":["RGB","RGBA","HSL","HSLA","COLOR_MODELS","FUNCTION","PROPERTY","ARRAY","OBJECT","STRING","NUMBER","UNDEFINED","IS_WINDOW","window","doc","document","prefixes","getCrossBrowserProperty","property","styles","body","documentElement","style","length","i","name","TRANSFORM","FILTER","ANIMATION","KEYFRAMES","replace","OPEN_CLOSED_CHARACTERS","open","close","TINY_NUM","REVERSE_TINY_NUM","DEFAULT_UNIT_PRESETS","pos","size","innerWidth","innerHeight","Math","max","min","dot","a1","a2","b1","b2","isUndefined","value","isObject","isArray","Array","isString","isNumber","isFunction","isEqualSeparator","character","separator","isCharacterSpace","isSeparatorSpace","findOpen","openCharacter","texts","index","openCloseCharacters","isIgnore","findIgnore","findClose","ignore","otherText","slice","join","RegExp","exec","closeCharacter","trim","nextIndex","find","_a","splitText","text","splitOptions","_b","isSeparateFirst","isSeparateOnlyOpenClose","_c","isSeparateOpenClose","_d","openClosedText","map","regexText","regex","split","filter","chr","values","tempValues","resetTemp","push","nextOpenCloseCharacters","splice","indexOf","splitSpace","splitComma","splitBracket","matches","prefix","suffix","splitUnit","unit","NaN","parseFloat","camelize","str","all","letter","toUpperCase","decamelize","letter2","toLowerCase","toArray","call","now","Date","getTime","findIndex","arr","callback","defaultIndex","findLastIndex","findLast","defalutValue","requestAnimationFrame","firstTime","raf","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","bind","currTime","id","setTimeout","cancelAnimationFrame","caf","webkitCancelAnimationFrame","mozCancelAnimationFrame","msCancelAnimationFrame","handle","clearTimeout","getKeys","obj","Object","keys","getValues","key","getEntries","sortOrders","orders","sort","a","b","index1","index2","convertUnitSize","sizeFunction","between","checkBoundSize","targetSize","compareSize","isMax","ratio","throttle","every","defaultSize","throttledSize","calculateBoundSize","minSize","maxSize","keepRatio","width","height","minWidth","minHeight","maxWidth","maxHeight","sum","nums","total","average","getRad","pos1","pos2","distX","distY","rad","atan2","PI","getCenterPoint","points","getShapeDirection","center","pos1Rad","pos2Rad","getDist","sqrt","pow","num","reverseUnit","round","throttleArray","forEach","_","counter","replaceOnce","fromText","toText","isOnce","_i","args","flat","reduce","prev","cur","concat","deepFlat","pushSet","elements","element","cutHex","hex","hexToRGBA","h","r","parseInt","substring","g","isNaN","toFullHex","charAt","hslToRGBA","hsl","s","l","floor","abs","c","x","m","rgb","stringToRGBA","color","undefined","colorArr","$","selectors","multi","querySelectorAll","querySelector","hasClass","className","classList","contains","match","addClass","add","removeClass","remove","reg","fromCSS","properties","Element","cssObject","getWindow","getComputedStyle","addEvent","el","type","listener","options","addEventListener","removeEvent","removeEventListener","getDocument","ownerDocument","getDocumentElement","getDocumentBody","defaultView","isWindow","val","isNode","nodeName","nodeType"],"mappings":"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"}