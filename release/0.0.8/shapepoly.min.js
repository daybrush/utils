/*
Copyright (c) 2018 Daybrush
license: MIT
author: Daybrush
repository: https://github.com/daybrush/shape-poly
@version 0.0.8
*/
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.ShapePoly=e()}(this,function(){"use strict";var t,B="top",D="bottom",G="left",J="right",K=((t={})[B]=D,t[D]=B,t[G]=J,t[J]=G,t),x="__shape-poly",N=x+"-side",w="position:absolute;",F=w+"width:100%;height:100%;border-radius:inherit;\nbackground-color:inherit;transform-origin:inherit;";function j(t,e,i){return void 0===i&&(i=""),'<div class="'+N+t+'" style="'+e+'">'+i+"</div>"}function Q(t){return Math.sin(Math.floor(t/2)*Math.PI/t)}function U(t){return Math.cos(Math.PI/t)}function s(t,e){return t.getAttribute("data-"+e)||void 0}function A(t){var e,i,r,o,n,a,s,d,u,c,l,h,v=t.strokeWidth,f=void 0===v?0:v,p=t.side,k=void 0===p?3:p,M=t.split,g=void 0===M?1:M,m=t.starRadius,b=void 0===m?100:m,y=t.stroke,I=void 0===y?"black":y,P=t.direction,R=void 0===P?D:P,S=g*(100===b?1:2),W=function(t){var e=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(t);if(!e)return{unit:"",value:NaN};var i=e[2];return{unit:e[3],value:parseFloat(i)}}(""+f),x=W.unit,N=W.value,w=""+N/2+x,F=K[R],j=R===B||R===D,A=j?G:B,E=j?B:G,T=function(t,e,i){if(t%4==0)return"100%";var r=U(t),o=0;if(t%2==0)o=i?r:1/r;else{var n=Q(t);o=i?.5/n*(1+r):2/(1+r)*n}return"calc(100% * "+o+" + "+e+" * "+(1-o)+")"}(k,f,j),q=R===B||R===J?-1:1,_=100===b?0:(i=b,100*(r=U(e=k))<=i?0:Math.atan((r-i/100)/Math.sin(Math.PI/e))/Math.PI*180),C=function(t,e,i,r){var o=i?1/Math.cos(i*Math.PI/180):1,n=1/e;if(4<t){var a=Math.sin(Math.PI/t),s=Math.cos(Math.PI/t);n*=t%4==0?a/s:t%2==0?a:a/Q(t)}else if(1===e)return"100%";return"calc(100% * "+(n*=o)+" - "+r+" * "+n+" + "+r+")"}(k,S,_,f),H=j?C:f,L=j?f:C,O=360/k+2*_,V=(o=S,n=q*_,a=N,s=x,d=j?"X":"Y",u=Math.cos(n*Math.PI/180),(c=[]).push("translate"+d+"(-"+50*u*o+"%)"),1<o&&c.push("translate"+d+"("+a/2*(u*o-1)+s+")"),0!==n&&c.push("rotate("+n+"deg)"),"transform:"+c.join(" ")+";"),X=[];X.push(F+":0;\n  "+E+":auto;\n  "+A+":50%;"+V+(l=w,"transform-origin:"+((h=j)?l:"50%")+" "+(h?"50%":l)+";")+"\n  width:"+H+";height:"+L+";border-radius:"+w+";background:"+I+";");for(var Y=0;Y<k;++Y)for(var $=0;$<S;++$){if(0!==Y*S+$){var z=0===$?"transform:rotate("+q*O+"deg)":_&&$===S/2?"transform:rotate("+2*-q*_+"deg)":"transform:none;";X.push(E+":auto;"+A+": calc(100% - "+f+");"+z)}}return{sides:X,percent:"padding-top:"+T}}function d(t){for(var e,i,r,o,n=t.className,a=void 0===n?x:n,s=t.strokeWidth,d=void 0===s?0:s,u=t.side,c=void 0===u?3:u,l=t.split,h=void 0===l?1:l,v=t.starRadius,f=void 0===v?100:v,p=t.stroke,k=void 0===p?"black":p,M=t.direction,g=void 0===M?D:M,m=t.container,b=void 0===m?(e="div",i=a,(r=document.createElement(e)).className=i,r):m,y=A({strokeWidth:d,side:c,split:h,starRadius:f,stroke:k,direction:g}),I=y.sides,P=y.percent,R=I.length-1;1<=R;--R)o=j(" "+N+R,F+I[R],o);o=j(" "+N+"0",w+"display:inline-block;"+I[0],o);var S=j("-percent","position:relative;width:100%;"+P),W=getComputedStyle(b).position;return W&&"static"!==W||(b.style.position="relative"),b.insertAdjacentHTML("beforeend",o+S),b}return{dom:function(t){var e=s(t,"stroke-width"),i=s(t,"stroke"),r=s(t,"direction"),o=s(t,"side"),n=s(t,"split"),a=s(t,"star-radius");return o&&(o=parseFloat(o)),n&&(n=parseFloat(n)),a&&(a=parseFloat(a)),d({side:o,split:n,starRadius:a,strokeWidth:e,direction:r,stroke:i,container:t})},css:A,be:function(t,e){var i=e.strokeWidth,r=void 0===i?0:i,o=e.side,n=void 0===o?3:o,a=e.starRadius,s=void 0===a?100:a,d=e.stroke,u=void 0===d?"black":d,c=e.direction,l=void 0===c?D:c,h=t.querySelectorAll("."+N),v=h.length,f=v/(n*(100!==s?2:1));if(v&&!(f%1)){var p=t.querySelector("."+N+"-percent"),k=A({strokeWidth:r,side:n,split:f,starRadius:s,stroke:u,direction:l}),M=k.sides,g=k.percent;M.forEach(function(t,e){h[e].style.cssText+=t}),p.style.cssText+=g}},poly:d,VERSION:"0.0.8"}});
//# sourceMappingURL=shapepoly.min.js.map
