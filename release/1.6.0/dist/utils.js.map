{"version":3,"file":"utils.js","sources":["../src/consts.ts","../src/utils.ts","../src/color.ts","../src/dom.ts"],"sourcesContent":["/**\n* @namespace\n* @name Consts\n*/\n\nimport { IObject, OpenCloseCharacter } from \"./types\";\n\n/**\n* get string \"rgb\"\n* @memberof Color\n* @example\nimport {RGB} from \"@daybrush/utils\";\n\nconsole.log(RGB); // \"rgb\"\n*/\nexport const RGB = \"rgb\";\n/**\n* get string \"rgba\"\n* @memberof Color\n* @example\nimport {RGBA} from \"@daybrush/utils\";\n\nconsole.log(RGBA); // \"rgba\"\n*/\nexport const RGBA = \"rgba\";\n/**\n* get string \"hsl\"\n* @memberof Color\n* @example\nimport {HSL} from \"@daybrush/utils\";\n\nconsole.log(HSL); // \"hsl\"\n*/\nexport const HSL = \"hsl\";\n/**\n* get string \"hsla\"\n* @memberof Color\n* @example\nimport {HSLA} from \"@daybrush/utils\";\n\nconsole.log(HSLA); // \"hsla\"\n*/\nexport const HSLA = \"hsla\";\n/**\n* gets an array of color models.\n* @memberof Color\n* @example\nimport {COLOR_MODELS} from \"@daybrush/utils\";\n\nconsole.log(COLOR_MODELS); // [\"rgb\", \"rgba\", \"hsl\", \"hsla\"];\n*/\nexport const COLOR_MODELS = [RGB, RGBA, HSL, HSLA];\n\n/**\n* get string \"function\"\n* @memberof Consts\n* @example\nimport {FUNCTION} from \"@daybrush/utils\";\n\nconsole.log(FUNCTION); // \"function\"\n*/\nexport const FUNCTION = \"function\";\n/**\n* get string \"property\"\n* @memberof Consts\n* @example\nimport {PROPERTY} from \"@daybrush/utils\";\n\nconsole.log(PROPERTY); // \"property\"\n*/\nexport const PROPERTY = \"property\";\n/**\n* get string \"array\"\n* @memberof Consts\n* @example\nimport {ARRAY} from \"@daybrush/utils\";\n\nconsole.log(ARRAY); // \"array\"\n*/\nexport const ARRAY = \"array\";\n/**\n* get string \"object\"\n* @memberof Consts\n* @example\nimport {OBJECT} from \"@daybrush/utils\";\n\nconsole.log(OBJECT); // \"object\"\n*/\nexport const OBJECT = \"object\";\n/**\n* get string \"string\"\n* @memberof Consts\n* @example\nimport {STRING} from \"@daybrush/utils\";\n\nconsole.log(STRING); // \"string\"\n*/\nexport const STRING = \"string\";\n/**\n* get string \"number\"\n* @memberof Consts\n* @example\nimport {NUMBER} from \"@daybrush/utils\";\n\nconsole.log(NUMBER); // \"number\"\n*/\nexport const NUMBER = \"number\";\n/**\n* get string \"undefined\"\n* @memberof Consts\n* @example\nimport {UNDEFINED} from \"@daybrush/utils\";\n\nconsole.log(UNDEFINED); // \"undefined\"\n*/\nexport const UNDEFINED = \"undefined\";\n\n/**\n* Check whether the environment is window or node.js.\n* @memberof Consts\n* @example\nimport {IS_WINDOW} from \"@daybrush/utils\";\n\nconsole.log(IS_WINDOW); // false in node.js\nconsole.log(IS_WINDOW); // true in browser\n*/\nexport const IS_WINDOW = typeof window !== UNDEFINED;\n\n/**\n* Check whether the environment is window or node.js.\n* @memberof Consts\n* @name document\n* @example\nimport {IS_WINDOW} from \"@daybrush/utils\";\n\nconsole.log(IS_WINDOW); // false in node.js\nconsole.log(IS_WINDOW); // true in browser\n*/\nconst doc = (typeof document !== UNDEFINED && document) as Document; // FIXME: this type maybe false\n\nexport {doc as document};\n\nconst prefixes: string[] = [\"webkit\", \"ms\", \"moz\", \"o\"];\n\n/**\n * @namespace CrossBrowser\n */\n\n/**\n* Get a CSS property with a vendor prefix that supports cross browser.\n* @function\n* @param {string} property - A CSS property\n* @return {string} CSS property with cross-browser vendor prefix\n* @memberof CrossBrowser\n* @example\nimport {getCrossBrowserProperty} from \"@daybrush/utils\";\n\nconsole.log(getCrossBrowserProperty(\"transform\")); // \"transform\", \"-ms-transform\", \"-webkit-transform\"\nconsole.log(getCrossBrowserProperty(\"filter\")); // \"filter\", \"-webkit-filter\"\n*/\nexport const getCrossBrowserProperty =  /*#__PURE__*/(property: string) => {\n  if (!doc) {\n    return \"\";\n  }\n  const styles = (doc.body || doc.documentElement).style as any;\n  const length = prefixes.length;\n\n  if (typeof styles[property] !== UNDEFINED) {\n    return property;\n  }\n  for (let i = 0; i < length; ++i) {\n    const name = `-${prefixes[i]}-${property}`;\n\n    if (typeof styles[name] !== UNDEFINED) {\n      return name;\n    }\n  }\n  return \"\";\n};\n\n/**\n* get string \"transfrom\" with the vendor prefix.\n* @memberof CrossBrowser\n* @example\nimport {TRANSFORM} from \"@daybrush/utils\";\n\nconsole.log(TRANSFORM); // \"transform\", \"-ms-transform\", \"-webkit-transform\"\n*/\nexport const TRANSFORM = /*#__PURE__*/getCrossBrowserProperty(\"transform\");\n/**\n* get string \"filter\" with the vendor prefix.\n* @memberof CrossBrowser\n* @example\nimport {FILTER} from \"@daybrush/utils\";\n\nconsole.log(FILTER); // \"filter\", \"-ms-filter\", \"-webkit-filter\"\n*/\nexport const FILTER = /*#__PURE__*/getCrossBrowserProperty(\"filter\");\n/**\n* get string \"animation\" with the vendor prefix.\n* @memberof CrossBrowser\n* @example\nimport {ANIMATION} from \"@daybrush/utils\";\n\nconsole.log(ANIMATION); // \"animation\", \"-ms-animation\", \"-webkit-animation\"\n*/\nexport const ANIMATION = /*#__PURE__*/getCrossBrowserProperty(\"animation\");\n/**\n* get string \"keyframes\" with the vendor prefix.\n* @memberof CrossBrowser\n* @example\nimport {KEYFRAMES} from \"@daybrush/utils\";\n\nconsole.log(KEYFRAMES); // \"keyframes\", \"-ms-keyframes\", \"-webkit-keyframes\"\n*/\nexport const KEYFRAMES = /*#__PURE__*/ANIMATION.replace(\"animation\", \"keyframes\");\n\nexport const OPEN_CLOSED_CHARACTERS: OpenCloseCharacter[] = [\n  { open: \"(\", close: \")\" },\n  { open: `\"`, close: `\"`},\n  { open: `'`, close: `'`},\n  { open: `\\\\\"`, close: `\\\\\"`},\n  { open: `\\\\'`, close: `\\\\'`},\n];\nexport const TINY_NUM = 0.0000001;\nexport const DEFAULT_UNIT_PRESETS: IObject<(pos: number, size?: number) => number> = {\n  \"cm\": pos => pos * 96 / 2.54,\n  \"mm\": pos => pos * 96 / 254,\n  \"in\": pos => pos * 96,\n  \"pt\": pos => pos * 96 / 72,\n  \"pc\": pos => pos * 96 / 6,\n  \"%\": (pos, size) => pos * size! / 100,\n  \"vw\": (pos, size = window.innerWidth) => pos / 100 * size,\n  \"vh\": (pos, size = window.innerHeight) => pos / 100 * size,\n  \"vmax\": (pos, size = Math.max(window.innerWidth, window.innerHeight)) => pos / 100 * size,\n  \"vmin\": (pos, size = Math.min(window.innerWidth, window.innerHeight)) => pos / 100 * size,\n};\n","import {\n  UNDEFINED, STRING,\n  OBJECT, FUNCTION,\n  IS_WINDOW, OPEN_CLOSED_CHARACTERS, NUMBER,\n  DEFAULT_UNIT_PRESETS,\n  TINY_NUM\n} from \"./consts\";\nimport { IArrayFormat, IObject, OpenCloseCharacter, SplitOptions } from \"./types\";\n/**\n* @namespace\n* @name Utils\n*/\n\n/**\n * Returns the inner product of two numbers(`a1`, `a2`) by two criteria(`b1`, `b2`).\n * @memberof Utils\n * @param - The first number\n * @param - The second number\n * @param - The first number to base on the inner product\n * @param - The second number to base on the inner product\n * @return - Returns the inner product\nimport { dot } from \"@daybrush/utils\";\n\nconsole.log(dot(0, 15, 2, 3)); // 6\nconsole.log(dot(5, 15, 2, 3)); // 9\nconsole.log(dot(5, 15, 1, 1)); // 10\n */\nexport function dot(a1: number, a2: number, b1: number, b2: number) {\n  return (a1 * b2 + a2 * b1) / (b1 + b2);\n}\n/**\n* Check the type that the value is undefined.\n* @memberof Utils\n* @param {string} value - Value to check the type\n* @return {boolean} true if the type is correct, false otherwise\n* @example\nimport {isUndefined} from \"@daybrush/utils\";\n\nconsole.log(isUndefined(undefined)); // true\nconsole.log(isUndefined(\"\")); // false\nconsole.log(isUndefined(1)); // false\nconsole.log(isUndefined(null)); // false\n*/\nexport function isUndefined(value: any): value is undefined {\n  return (typeof value === UNDEFINED);\n}\n/**\n* Check the type that the value is object.\n* @memberof Utils\n* @param {string} value - Value to check the type\n* @return {} true if the type is correct, false otherwise\n* @example\nimport {isObject} from \"@daybrush/utils\";\n\nconsole.log(isObject({})); // true\nconsole.log(isObject(undefined)); // false\nconsole.log(isObject(\"\")); // false\nconsole.log(isObject(null)); // false\n*/\nexport function isObject(value: any): value is IObject<any> {\n  return value && (typeof value === OBJECT);\n}\n/**\n* Check the type that the value is isArray.\n* @memberof Utils\n* @param {string} value - Value to check the type\n* @return {} true if the type is correct, false otherwise\n* @example\nimport {isArray} from \"@daybrush/utils\";\n\nconsole.log(isArray([])); // true\nconsole.log(isArray({})); // false\nconsole.log(isArray(undefined)); // false\nconsole.log(isArray(null)); // false\n*/\nexport function isArray(value: any): value is any[] {\n  return Array.isArray(value);\n}\n/**\n* Check the type that the value is string.\n* @memberof Utils\n* @param {string} value - Value to check the type\n* @return {} true if the type is correct, false otherwise\n* @example\nimport {isString} from \"@daybrush/utils\";\n\nconsole.log(isString(\"1234\")); // true\nconsole.log(isString(undefined)); // false\nconsole.log(isString(1)); // false\nconsole.log(isString(null)); // false\n*/\nexport function isString(value: any): value is string {\n  return typeof value === STRING;\n}\n\nexport function isNumber(value: any): value is number {\n  return typeof value === NUMBER;\n}\n\n/**\n* Check the type that the value is function.\n* @memberof Utils\n* @param {string} value - Value to check the type\n* @return {} true if the type is correct, false otherwise\n* @example\nimport {isFunction} from \"@daybrush/utils\";\n\nconsole.log(isFunction(function a() {})); // true\nconsole.log(isFunction(() => {})); // true\nconsole.log(isFunction(\"1234\")); // false\nconsole.log(isFunction(1)); // false\nconsole.log(isFunction(null)); // false\n*/\nexport function isFunction(value: any): value is (...args: any[]) => any {\n  return typeof value === FUNCTION;\n}\nfunction isEqualSeparator(\n  character: string,\n  separator: string,\n) {\n  const isCharacterSpace = character === \"\" || character == \" \";\n  const isSeparatorSpace = separator === \"\" || separator == \" \";\n\n  return (isSeparatorSpace && isCharacterSpace) || character === separator;\n}\nfunction findOpen(\n  openCharacter: OpenCloseCharacter,\n  texts: string[],\n  index: number,\n  length: number,\n  openCloseCharacters: OpenCloseCharacter[],\n) {\n  const isIgnore = findIgnore(openCharacter, texts, index);\n\n  if (!isIgnore) {\n    return findClose(openCharacter, texts, index + 1, length, openCloseCharacters);\n  }\n  return index;\n}\nfunction findIgnore(\n  character: OpenCloseCharacter,\n  texts: string[],\n  index: number,\n) {\n  if (!character.ignore) {\n    return null;\n  }\n  const otherText = texts.slice(Math.max(index - 3, 0), index + 3).join(\"\");\n\n  return new RegExp(character.ignore).exec(otherText);\n\n}\nfunction findClose(\n  closeCharacter: OpenCloseCharacter,\n  texts: string[],\n  index: number,\n  length: number,\n  openCloseCharacters: OpenCloseCharacter[],\n) {\n  for (let i = index; i < length; ++i) {\n    const character = texts[i].trim();\n\n    if (character === closeCharacter.close && !findIgnore(closeCharacter, texts, i)) {\n      return i;\n    }\n    let nextIndex = i;\n    // re open\n    const openCharacter = find(openCloseCharacters, ({ open }) => open === character);\n\n    if (openCharacter) {\n      nextIndex = findOpen(openCharacter, texts, i, length, openCloseCharacters);\n    }\n    if (nextIndex === -1) {\n      break;\n    }\n    i = nextIndex;\n  }\n  return -1;\n}\n\nexport function splitText(\n  text: string,\n  splitOptions: string | SplitOptions,\n) {\n  const {\n    separator = \",\",\n    isSeparateFirst,\n    isSeparateOnlyOpenClose,\n    isSeparateOpenClose = isSeparateOnlyOpenClose,\n    openCloseCharacters = OPEN_CLOSED_CHARACTERS,\n  } = isString(splitOptions) ? {\n    separator: splitOptions,\n  } as SplitOptions : splitOptions;\n  const openClosedText = openCloseCharacters.map(({ open, close }) => {\n    if (open === close) {\n      return open;\n    }\n    return `${open}|${close}`;\n  }).join(\"|\");\n  const regexText = `(\\\\s*${separator}\\\\s*|${openClosedText}|\\\\s+)`;\n  const regex = new RegExp(regexText, \"g\");\n  const texts = text.split(regex).filter(Boolean);\n  const length = texts.length;\n  const values: string[] = [];\n  let tempValues: string[] = [];\n\n  function resetTemp() {\n    if (tempValues.length) {\n      values.push(tempValues.join(\"\"));\n      tempValues = [];\n\n      return true;\n    }\n    return false;\n  }\n  for (let i = 0; i < length; ++i) {\n    const character = texts[i].trim();\n    let nextIndex = i;\n\n\n    const openCharacter = find(openCloseCharacters, ({ open }) => open === character);\n    const closeCharacter = find(openCloseCharacters, ({ close }) => close === character);\n\n    if (openCharacter) {\n      nextIndex = findOpen(openCharacter, texts, i, length, openCloseCharacters);\n\n      if (nextIndex !== -1 && isSeparateOpenClose) {\n        if (resetTemp() && isSeparateFirst) {\n          break;\n        }\n        values.push(texts.slice(i, nextIndex + 1).join(\"\"));\n        i = nextIndex;\n\n        if (isSeparateFirst) {\n          break;\n        }\n        continue;\n      }\n    } else if (closeCharacter && !findIgnore(closeCharacter, texts, i)) {\n      throw new Error(`invalid format: ${closeCharacter.close}`);\n    } else if (isEqualSeparator(character, separator) && !isSeparateOnlyOpenClose) {\n      resetTemp();\n      if (isSeparateFirst) {\n        break;\n      }\n      continue;\n    }\n\n    if (nextIndex === -1) {\n      nextIndex = length - 1;\n    }\n    tempValues.push(texts.slice(i, nextIndex + 1).join(\"\"));\n    i = nextIndex;\n  }\n  if (tempValues.length) {\n    values.push(tempValues.join(\"\"));\n  }\n  return values;\n}\n\n/**\n* divide text by space.\n* @memberof Utils\n* @param {string} text - text to divide\n* @return {Array} divided texts\n* @example\nimport {spliceSpace} from \"@daybrush/utils\";\n\nconsole.log(splitSpace(\"a b c d e f g\"));\n// [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\"]\nconsole.log(splitSpace(\"'a,b' c 'd,e' f g\"));\n// [\"'a,b'\", \"c\", \"'d,e'\", \"f\", \"g\"]\n*/\nexport function splitSpace(text: string) {\n  // divide comma(space)\n  return splitText(text, \"\");\n}\n\n/**\n* divide text by comma.\n* @memberof Utils\n* @param {string} text - text to divide\n* @return {Array} divided texts\n* @example\nimport {splitComma} from \"@daybrush/utils\";\n\nconsole.log(splitComma(\"a,b,c,d,e,f,g\"));\n// [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\"]\nconsole.log(splitComma(\"'a,b',c,'d,e',f,g\"));\n// [\"'a,b'\", \"c\", \"'d,e'\", \"f\", \"g\"]\n*/\nexport function splitComma(text: string): string[] {\n  // divide comma(,)\n  // \"[^\"]*\"|'[^']*'\n  return splitText(text, \",\");\n}\n/**\n* divide text by bracket \"(\", \")\".\n* @memberof Utils\n* @param {string} text - text to divide\n* @return {object} divided texts\n* @example\nimport {splitBracket} from \"@daybrush/utils\";\n\nconsole.log(splitBracket(\"a(1, 2)\"));\n// {prefix: \"a\", value: \"1, 2\", suffix: \"\"}\nconsole.log(splitBracket(\"a(1, 2)b\"));\n// {prefix: \"a\", value: \"1, 2\", suffix: \"b\"}\n*/\nexport function splitBracket(text: string) {\n  const matches = (/([^(]*)\\(([\\s\\S]*)\\)([\\s\\S]*)/g).exec(text);\n\n  if (!matches || matches.length < 4) {\n    return {};\n  } else {\n    return { prefix: matches[1], value: matches[2], suffix: matches[3] };\n  }\n}\n/**\n* divide text by number and unit.\n* @memberof Utils\n* @param {string} text - text to divide\n* @return {} divided texts\n* @example\nimport {splitUnit} from \"@daybrush/utils\";\n\nconsole.log(splitUnit(\"10px\"));\n// {prefix: \"\", value: 10, unit: \"px\"}\nconsole.log(splitUnit(\"-10px\"));\n// {prefix: \"\", value: -10, unit: \"px\"}\nconsole.log(splitUnit(\"a10%\"));\n// {prefix: \"a\", value: 10, unit: \"%\"}\n*/\nexport function splitUnit(text: string): { prefix: string, unit: string, value: number } {\n  const matches = /^([^\\d|e|\\-|\\+]*)((?:\\d|\\.|-|e-|e\\+)+)(\\S*)$/g.exec(text);\n\n  if (!matches) {\n    return { prefix: \"\", unit: \"\", value: NaN };\n  }\n  const prefix = matches[1];\n  const value = matches[2];\n  const unit = matches[3];\n\n  return { prefix, unit, value: parseFloat(value) };\n}\n\n/**\n* transform strings to camel-case\n* @memberof Utils\n* @param {String} text - string\n* @return {String} camel-case string\n* @example\nimport {camelize} from \"@daybrush/utils\";\n\nconsole.log(camelize(\"transform-origin\")); // transformOrigin\nconsole.log(camelize(\"abcd_efg\")); // abcdEfg\nconsole.log(camelize(\"abcd efg\")); // abcdEfg\n*/\nexport function camelize(str: string) {\n  return str.replace(/[\\s-_]([a-z])/g, (all, letter) => letter.toUpperCase());\n}\n/**\n* transform a camelized string into a lowercased string.\n* @memberof Utils\n* @param {string} text - a camel-cased string\n* @param {string} [separator=\"-\"] - a separator\n* @return {string}  a lowercased string\n* @example\nimport {decamelize} from \"@daybrush/utils\";\n\nconsole.log(decamelize(\"transformOrigin\")); // transform-origin\nconsole.log(decamelize(\"abcdEfg\", \"_\")); // abcd_efg\n*/\nexport function decamelize(str: string, separator: string = \"-\") {\n  return str.replace(/([a-z])([A-Z])/g, (all, letter, letter2) => `${letter}${separator}${letter2.toLowerCase()}`);\n}\n\n/**\n* transforms something in an array into an array.\n* @memberof Utils\n* @param - Array form\n* @return an array\n* @example\nimport {toArray} from \"@daybrush/utils\";\n\nconst arr1 = toArray(document.querySelectorAll(\".a\")); // Element[]\nconst arr2 = toArray(document.querySelectorAll<HTMLElement>(\".a\")); // HTMLElement[]\n*/\nexport function toArray<T>(value: IArrayFormat<T>): T[] {\n  return [].slice.call(value);\n}\n\n/**\n* Date.now() method\n* @memberof CrossBrowser\n* @return {number} milliseconds\n* @example\nimport {now} from \"@daybrush/utils\";\n\nconsole.log(now()); // 12121324241(milliseconds)\n*/\nexport function now() {\n  return Date.now ? Date.now() : new Date().getTime();\n}\n\n/**\n* Returns the index of the first element in the array that satisfies the provided testing function.\n* @function\n* @memberof CrossBrowser\n* @param - The array `findIndex` was called upon.\n* @param - A function to execute on each value in the array until the function returns true, indicating that the satisfying element was found.\n* @param - Returns defaultIndex if not found by the function.\n* @example\nimport { findIndex } from \"@daybrush/utils\";\n\nfindIndex([{a: 1}, {a: 2}, {a: 3}, {a: 4}], ({ a }) => a === 2); // 1\n*/\nexport function findIndex<T>(\n  arr: T[],\n  callback: (element: T, index: number, arr: T[]) => any,\n  defaultIndex: number = -1,\n): number {\n  const length = arr.length;\n\n  for (let i = 0; i < length; ++i) {\n    if (callback(arr[i], i, arr)) {\n      return i;\n    }\n  }\n  return defaultIndex;\n}\n\n/**\n* Returns the reverse direction index of the first element in the array that satisfies the provided testing function.\n* @function\n* @memberof CrossBrowser\n* @param - The array `findLastIndex` was called upon.\n* @param - A function to execute on each value in the array until the function returns true, indicating that the satisfying element was found.\n* @param - Returns defaultIndex if not found by the function.\n* @example\nimport { findLastIndex } from \"@daybrush/utils\";\n\nfindLastIndex([{a: 1}, {a: 2}, {a: 3}, {a: 4}], ({ a }) => a === 2); // 1\n*/\nexport function findLastIndex<T>(\n  arr: T[],\n  callback: (element: T, index: number, arr: T[]) => any,\n  defaultIndex: number = -1,\n): number {\n  const length = arr.length;\n\n  for (let i = length - 1; i >= 0; --i) {\n    if (callback(arr[i], i, arr)) {\n      return i;\n    }\n  }\n  return defaultIndex;\n}\n\n/**\n* Returns the value of the reverse direction element in the array that satisfies the provided testing function.\n* @function\n* @memberof CrossBrowser\n* @param - The array `findLast` was called upon.\n* @param - A function to execute on each value in the array,\n* @param - Returns defalutValue if not found by the function.\n* @example\nimport { find } from \"@daybrush/utils\";\n\nfind([{a: 1}, {a: 2}, {a: 3}, {a: 4}], ({ a }) => a === 2); // {a: 2}\n*/\nexport function findLast<T>(\n  arr: T[],\n  callback: (element: T, index: number, arr: T[]) => any,\n  defalutValue?: T,\n): T | undefined {\n  const index = findLastIndex(arr, callback);\n\n  return index > - 1 ? arr[index] : defalutValue;\n}\n/**\n* Returns the value of the first element in the array that satisfies the provided testing function.\n* @function\n* @memberof CrossBrowser\n* @param - The array `find` was called upon.\n* @param - A function to execute on each value in the array,\n* @param - Returns defalutValue if not found by the function.\n* @example\nimport { find } from \"@daybrush/utils\";\n\nfind([{a: 1}, {a: 2}, {a: 3}, {a: 4}], ({ a }) => a === 2); // {a: 2}\n*/\nexport function find<T>(\n  arr: T[],\n  callback: (element: T, index: number, arr: T[]) => any,\n  defalutValue?: T,\n): T | undefined {\n  const index = findIndex(arr, callback);\n\n  return index > - 1 ? arr[index] : defalutValue;\n}\n\n/**\n* window.requestAnimationFrame() method with cross browser.\n* @function\n* @memberof CrossBrowser\n* @param {FrameRequestCallback} callback - The function to call when it's time to update your animation for the next repaint.\n* @return {number} id\n* @example\nimport {requestAnimationFrame} from \"@daybrush/utils\";\n\nrequestAnimationFrame((timestamp) => {\n  console.log(timestamp);\n});\n*/\nexport const requestAnimationFrame = /*#__PURE__*/(() => {\n  const firstTime = now();\n  const raf = IS_WINDOW\n    && (window.requestAnimationFrame || window.webkitRequestAnimationFrame\n      || (window as any).mozRequestAnimationFrame || (window as any).msRequestAnimationFrame);\n\n  return raf ? (raf.bind(window) as (callback: FrameRequestCallback) => number) : ((callback: FrameRequestCallback) => {\n    const currTime = now();\n    const id = window.setTimeout(() => {\n      callback(currTime - firstTime);\n    }, 1000 / 60);\n    return id;\n  });\n})();\n\n/**\n* window.cancelAnimationFrame() method with cross browser.\n* @function\n* @memberof CrossBrowser\n* @param {number} handle - the id obtained through requestAnimationFrame method\n* @return {void}\n* @example\nimport { requestAnimationFrame, cancelAnimationFrame } from \"@daybrush/utils\";\n\nconst id = requestAnimationFrame((timestamp) => {\n  console.log(timestamp);\n});\n\ncancelAnimationFrame(id);\n*/\nexport const cancelAnimationFrame = /*#__PURE__*/(() => {\n  const caf = IS_WINDOW\n    && (window.cancelAnimationFrame || window.webkitCancelAnimationFrame\n      || (window as any).mozCancelAnimationFrame || (window as any).msCancelAnimationFrame);\n\n  return caf\n    ? caf.bind(window) as (handle: number) => void\n    : ((handle: number) => { clearTimeout(handle); });\n})();\n/**\n* @function\n* @memberof Utils\n*/\nexport function getKeys(obj: IObject<any>): string[] {\n  if (Object.keys) {\n    return Object.keys(obj);\n  }\n  const keys: string[] = [];\n  for (const name in keys) {\n    keys.push(name);\n  }\n  return keys;\n}\n\n/**\n* @function\n* @memberof Utils\n*/\nexport function sortOrders(keys: Array<string | number>, orders: Array<string | number> = []) {\n  keys.sort((a, b) => {\n    const index1 = orders.indexOf(a);\n    const index2 = orders.indexOf(b);\n\n    if (index2 === -1 && index1 === -1) {\n      return 0;\n    }\n    if (index1 === -1) {\n      return 1;\n    }\n    if (index2 === -1) {\n      return -1;\n    }\n    return index1 - index2;\n  });\n}\n\n/**\n* convert unit size to px size\n* @function\n* @memberof Utils\n*/\nexport function convertUnitSize(pos: string, size: number | IObject<((pos: number) => number) | number>) {\n  const { value, unit } = splitUnit(pos);\n\n  if (isObject(size)) {\n    const sizeFunction = size[unit];\n    if (sizeFunction) {\n      if (isFunction(sizeFunction)) {\n        return sizeFunction(value);\n      } else if (DEFAULT_UNIT_PRESETS[unit]) {\n        return DEFAULT_UNIT_PRESETS[unit](value, sizeFunction);\n      }\n    }\n  } else if (unit === \"%\") {\n    return value * size / 100;\n  }\n  if (DEFAULT_UNIT_PRESETS[unit]) {\n    return DEFAULT_UNIT_PRESETS[unit](value);\n  }\n  return value;\n}\n\n/**\n* calculate between min, max\n* @function\n* @memberof Utils\n*/\nexport function between(value: number, min: number, max: number): number {\n  return Math.max(min, Math.min(value, max));\n}\n\nexport function checkBoundSize(targetSize: number[], compareSize: number[], isMax: boolean) {\n  return [\n    [throttle(compareSize[0], TINY_NUM), throttle(compareSize[0] * targetSize[1] / targetSize[0], TINY_NUM)],\n    [throttle(compareSize[1] * targetSize[0] / targetSize[1], TINY_NUM), throttle(compareSize[1], TINY_NUM)],\n  ].filter(size => size.every((value, i) => {\n    return isMax ? value <= compareSize[i] : value >= compareSize[i];\n  }))[0] || targetSize;\n}\n\n/**\n* calculate bound size\n* @function\n* @memberof Utils\n*/\nexport function calculateBoundSize(\n  size: number[], minSize: number[],\n  maxSize: number[], keepRatio?: boolean,\n): number[] {\n  if (!keepRatio) {\n    return size.map((value, i) => between(value, minSize[i], maxSize[i]));\n  }\n  let [width, height] = size;\n  // width : height = minWidth : minHeight;\n  const [minWidth, minHeight] = checkBoundSize(size, minSize, false);\n  const [maxWidth, maxHeight] = checkBoundSize(size, maxSize, true);\n\n  if (width < minWidth || height < minHeight) {\n    width = minWidth;\n    height = minHeight;\n  } else if (width > maxWidth || height > maxHeight) {\n    width = maxWidth;\n    height = maxHeight;\n  }\n  return [width, height];\n}\n\n\n/**\n* Add all the numbers.\n* @function\n* @memberof Utils\n*/\nexport function sum(nums: number[]): number {\n  const length = nums.length;\n  let total = 0;\n\n  for (let i = length - 1; i >= 0; --i) {\n    total += nums[i];\n  }\n  return total;\n}\n\n/**\n* Average all numbers.\n* @function\n* @memberof Utils\n*/\nexport function average(nums: number[]) {\n  const length = nums.length;\n  let total = 0;\n\n  for (let i = length - 1; i >= 0; --i) {\n    total += nums[i];\n  }\n  return length ? total / length : 0;\n}\n/**\n* Get the angle of two points. (0 <= rad < 359)\n* @function\n* @memberof Utils\n*/\nexport function getRad(pos1: number[], pos2: number[]): number {\n  const distX = pos2[0] - pos1[0];\n  const distY = pos2[1] - pos1[1];\n  const rad = Math.atan2(distY, distX);\n\n  return rad >= 0 ? rad : rad + Math.PI * 2;\n}\n/**\n* Get the average point of all points.\n* @function\n* @memberof Utils\n*/\nexport function getCenterPoint(points: number[][]): number[] {\n  return [0, 1].map(i => average(points.map(pos => pos[i])));\n}\n/**\n* Gets the direction of the shape.\n* @function\n* @memberof Utils\n*/\nexport function getShapeDirection(points: number[][]): 1 | -1 {\n  const center = getCenterPoint(points);\n  const pos1Rad = getRad(center, points[0]);\n  const pos2Rad = getRad(center, points[1]);\n\n  return (pos1Rad < pos2Rad && pos2Rad - pos1Rad < Math.PI) || (pos1Rad > pos2Rad && pos2Rad - pos1Rad < -Math.PI)\n    ? 1 : -1;\n}\n\n/**\n* Get the distance between two points.\n* @function\n* @memberof Utils\n*/\nexport function getDist(a: number[], b?: number[]) {\n  return Math.sqrt(Math.pow((b ? b[0] : 0) - a[0], 2) + Math.pow((b ? b[1] : 0) - a[1], 2));\n}\n\n/**\n* throttle number depending on the unit.\n* @function\n* @memberof Utils\n*/\nexport function throttle(num: number, unit?: number) {\n  if (!unit) {\n    return num;\n  }\n  return Math.round(num / unit) * unit;\n}\n\n/**\n* throttle number array depending on the unit.\n* @function\n* @memberof Utils\n*/\nexport function throttleArray(nums: number[], unit?: number) {\n  nums.forEach((_, i) => {\n    nums[i] = throttle(nums[i], unit);\n  });\n  return nums;\n}\n\n/**\n* @function\n* @memberof Utils\n*/\nexport function counter(num: number): number[] {\n  const nums: number[] = [];\n\n  for (let i = 0; i < num; ++i) {\n    nums.push(i);\n  }\n\n  return nums;\n}\n\n/**\n* @function\n* @memberof Utils\n*/\nexport function replaceOnce(text: string, fromText: RegExp | string, toText: string | ((...args: any[]) => string)): string {\n  let isOnce = false;\n  return text.replace(fromText, (...args: any[]) => {\n    if (isOnce) {\n      return args[0];\n    }\n    isOnce = true;\n    return isString(toText) ? toText : toText(...args);\n  });\n}\n","import { RGB, RGBA, HSL, HSLA } from \"./consts\";\nimport { splitBracket, splitComma } from \"./utils\";\n\n/**\n* @namespace\n* @name Color\n*/\n\n/**\n* Remove the # from the hex color.\n* @memberof Color\n* @param {} hex - hex color\n* @return {} hex color\n* @example\nimport {cutHex} from \"@daybrush/utils\";\n\nconsole.log(cutHex(\"#000000\")) // \"000000\"\n*/\nexport function cutHex(hex: string) {\n  return hex.replace(\"#\", \"\");\n}\n/**\n* convert hex color to rgb color.\n* @memberof Color\n* @param {} hex - hex color\n* @return {} rgb color\n* @example\nimport {hexToRGBA} from \"@daybrush/utils\";\n\nconsole.log(hexToRGBA(\"#00000005\"));\n// [0, 0, 0, 1]\nconsole.log(hexToRGBA(\"#201045\"));\n// [32, 16, 69, 1]\n*/\nexport function hexToRGBA(hex: string): [number, number, number, number] {\n  const h = cutHex(hex);\n  const r = parseInt(h.substring(0, 2), 16);\n  const g = parseInt(h.substring(2, 4), 16);\n  const b = parseInt(h.substring(4, 6), 16);\n  let a = parseInt(h.substring(6, 8), 16) / 255;\n\n  if (isNaN(a)) {\n    a = 1;\n  }\n  return [r, g, b, a];\n}\n\n/**\n* convert 3(or 4)-digit hex color to 6(or 8)-digit hex color.\n* @memberof Color\n* @param {} hex - 3(or 4)-digit hex color\n* @return {} 6(or 8)-digit hex color\n* @example\nimport {toFullHex} from \"@daybrush/utils\";\n\nconsole.log(toFullHex(\"#123\")); // \"#112233\"\nconsole.log(toFullHex(\"#123a\")); // \"#112233aa\"\n*/\nexport function toFullHex(h: string): string {\n  const r = h.charAt(1);\n  const g = h.charAt(2);\n  const b = h.charAt(3);\n  const a = h.charAt(4);\n  const arr = [\"#\", r, r, g, g, b, b, a, a];\n\n  return arr.join(\"\");\n}\n/**\n* convert hsl color to rgba color.\n* @memberof Color\n* @param {} hsl - hsl color(hue: 0 ~ 360, saturation: 0 ~ 1, lightness: 0 ~ 1, alpha: 0 ~ 1)\n* @return {} rgba color\n* @example\nimport {hslToRGBA} from \"@daybrush/utils\";\n\nconsole.log(hslToRGBA([150, 0.5, 0.4]));\n// [51, 153, 102, 1]\n*/\nexport function hslToRGBA(hsl: readonly [number, number, number, number?]): [number, number, number, number] {\n  let h = hsl[0];\n  const s = hsl[1];\n  const l = hsl[2];\n\n  if (h < 0) {\n    h +=  Math.floor((Math.abs(h) + 360) / 360) * 360;\n  }\n  h %= 360;\n\n  const c = (1 - Math.abs(2 * l - 1)) * s;\n  const x = c * (1 - Math.abs((h / 60) % 2 - 1));\n  const m = l - c / 2;\n  let rgb: [number, number, number];\n\n  if (h < 60) {\n    rgb = [c, x, 0];\n  } else if (h < 120) {\n    rgb = [x, c, 0];\n  } else if (h < 180) {\n    rgb = [0, c, x];\n  } else if (h < 240) {\n    rgb = [0, x, c];\n  } else if (h < 300) {\n    rgb = [x, 0, c];\n  } else if (h < 360) {\n    rgb = [c, 0, x];\n  } else {\n    rgb = [0, 0, 0];\n  }\n\n  return [\n    Math.round((rgb[0] + m) * 255),\n    Math.round((rgb[1] + m) * 255),\n    Math.round((rgb[2] + m) * 255),\n    hsl[3] ?? 1,\n  ];\n}\n/**\n* convert string to rgba color.\n* @memberof Color\n* @param {} - 3-hex(#000), 4-hex(#0000) 6-hex(#000000), 8-hex(#00000000) or RGB(A), or HSL(A)\n* @return {} rgba color\n* @example\nimport {stringToRGBA} from \"@daybrush/utils\";\n\nconsole.log(stringToRGBA(\"#000000\")); // [0, 0, 0, 1]\nconsole.log(stringToRGBA(\"rgb(100, 100, 100)\")); // [100, 100, 100, 1]\nconsole.log(stringToRGBA(\"hsl(150, 0.5, 0.4)\")); // [51, 153, 102, 1]\n*/\nexport function stringToRGBA(color: string): [number, number, number, number] {\n  if (color.charAt(0) === \"#\") {\n    if (color.length === 4 || color.length === 5) {\n      return hexToRGBA(toFullHex(color));\n    } else {\n      return hexToRGBA(color);\n    }\n  } else if (color.indexOf(\"(\") !== -1) {\n    // in bracket.\n    const {prefix, value} = splitBracket(color);\n\n    if (!prefix || !value) {\n      return undefined as never;\n    }\n    const arr = splitComma(value);\n    const colorArr: [number, number, number, number] = [0, 0, 0, 1];\n    const length = arr.length;\n\n    switch (prefix) {\n      case RGB:\n      case RGBA:\n        for (let i = 0; i < length; ++i) {\n          colorArr[i] = parseFloat(arr[i]);\n        }\n        return colorArr;\n      case HSL:\n      case HSLA:\n        for (let i = 0; i < length; ++i) {\n          if (arr[i].indexOf(\"%\") !== -1) {\n            colorArr[i] = parseFloat(arr[i]) / 100;\n          } else {\n            colorArr[i] = parseFloat(arr[i]);\n          }\n        }\n        // hsl, hsla to rgba\n        return hslToRGBA(colorArr);\n    }\n  }\n  return undefined as never;\n}\n","import { document } from \"./consts\";\nimport { IObject, IEventMap } from \"./types\";\n\n/**\n * @namespace DOM\n */\n\nexport function $<K extends keyof HTMLElementTagNameMap>(selectors: K, multi: true):\n  NodeListOf<HTMLElementTagNameMap[K]>;\nexport function $<K extends keyof SVGElementTagNameMap>(selectors: K, multi: true): NodeListOf<SVGElementTagNameMap[K]>;\nexport function $<E extends Element = Element>(selectors: string, multi: true): NodeListOf<E>;\n\nexport function $<K extends keyof HTMLElementTagNameMap>(selectors: K, multi?: false): HTMLElementTagNameMap[K] | null;\nexport function $<K extends keyof SVGElementTagNameMap>(selectors: K, multi?: false): SVGElementTagNameMap[K] | null;\nexport function $<E extends Element = Element>(selectors: string, multi?: false): E | null;\n/**\n * Returns all element descendants of node that\n * match selectors.\n */\n\n/**\n * Checks if the specified class value exists in the element's class attribute.\n * @memberof DOM\n * @param - A DOMString containing one or more selectors to match\n * @param - If multi is true, a DOMString containing one or more selectors to match against.\n * @example\nimport {$} from \"@daybrush/utils\";\n\nconsole.log($(\"div\")); // div element\nconsole.log($(\"div\", true)); // [div, div] elements\n*/\nexport function $<E extends Element = Element>(selectors: string, multi?: boolean): E | NodeListOf<E> | null {\n  return multi ? document.querySelectorAll<E>(selectors) : document.querySelector<E>(selectors);\n}\n\n/**\n* Checks if the specified class value exists in the element's class attribute.\n* @memberof DOM\n* @param element - target\n* @param className - the class name to search\n* @return {boolean} return false if the class is not found.\n* @example\nimport {hasClass} from \"@daybrush/utils\";\n\nconsole.log(hasClass(element, \"start\")); // true or false\n*/\nexport function hasClass(element: Element, className: string) {\n  if (element.classList) {\n    return element.classList.contains(className);\n  }\n  return !!element.className.match(new RegExp(`(\\\\s|^)${className}(\\\\s|$)`));\n}\n\n/**\n* Add the specified class value. If these classe already exist in the element's class attribute they are ignored.\n* @memberof DOM\n* @param element - target\n* @param className - the class name to add\n* @example\nimport {addClass} from \"@daybrush/utils\";\n\naddClass(element, \"start\");\n*/\nexport function addClass(element: Element, className: string) {\n  if (element.classList) {\n    element.classList.add(className);\n  } else {\n    element.className += ` ${className}`;\n  }\n}\n\n/**\n* Removes the specified class value.\n* @memberof DOM\n* @param element - target\n* @param className - the class name to remove\n* @example\nimport {removeClass} from \"@daybrush/utils\";\n\nremoveClass(element, \"start\");\n*/\nexport function removeClass(element: Element, className: string) {\n  if (element.classList) {\n    element.classList.remove(className);\n  } else {\n    const reg = new RegExp(`(\\\\s|^)${className}(\\\\s|$)`);\n\n    element.className = element.className.replace(reg, \" \");\n  }\n}\n\n/**\n* Gets the CSS properties from the element.\n* @memberof DOM\n* @param elements - elements\n* @param properites - the CSS properties\n* @return returns CSS properties and values.\n* @example\nimport {fromCSS} from \"@daybrush/utils\";\n\nconsole.log(fromCSS(element, [\"left\", \"opacity\", \"top\"])); // {\"left\": \"10px\", \"opacity\": 1, \"top\": \"10px\"}\n*/\nexport function fromCSS(\n  elements: Element | Element[] | NodeListOf<Element>, properties: string[]): IObject<any> {\n  if (!elements || !properties || !properties.length) {\n    return {};\n  }\n  let element;\n\n  if (elements instanceof Element) {\n    element = elements;\n  } else if (elements.length) {\n    element = elements[0];\n  } else {\n    return {};\n  }\n  const cssObject: IObject<any> = {};\n  const styles = window.getComputedStyle(element) as any;\n  const length = properties.length;\n\n  for (let i = 0; i < length; ++i) {\n    cssObject[properties[i]] = styles[properties[i]];\n  }\n  return cssObject;\n}\n\nexport function addEvent<K extends keyof IEventMap>(\n  el: EventTarget, type: K, listener: (e: IEventMap[K]) => void, options?: boolean | AddEventListenerOptions): void;\n/**\n* Sets up a function that will be called whenever the specified event is delivered to the target\n* @memberof DOM\n* @param - event target\n* @param - A case-sensitive string representing the event type to listen for.\n* @param - The object which receives a notification (an object that implements the Event interface) when an event of the specified type occurs\n* @param - An options object that specifies characteristics about the event listener.\n* @example\nimport {addEvent} from \"@daybrush/utils\";\n\naddEvent(el, \"click\", e => {\n  console.log(e);\n});\n*/\nexport function addEvent(\n  el: EventTarget,\n  type: string, listener: (e: Event) => void,\n  options?: boolean | AddEventListenerOptions) {\n  el.addEventListener(type, listener, options);\n}\n\nexport function removeEvent<K extends keyof IEventMap>(\n  el: EventTarget, type: K, listener: (e: IEventMap[K]) => void, options?: boolean | EventListenerOptions): void;\n/**\n* removes from the EventTarget an event listener previously registered with EventTarget.addEventListener()\n* @memberof DOM\n* @param - event target\n* @param - A case-sensitive string representing the event type to listen for.\n* @param - The EventListener function of the event handler to remove from the event target.\n* @param - An options object that specifies characteristics about the event listener.\n* @example\nimport {addEvent, removeEvent} from \"@daybrush/utils\";\nconst listener = e => {\n  console.log(e);\n};\naddEvent(el, \"click\", listener);\nremoveEvent(el, \"click\", listener);\n*/\nexport function removeEvent(\n  el: EventTarget, type: string,\n  listener: (e: Event) => void,\n  options?: boolean | EventListenerOptions,\n) {\n  el.removeEventListener(type, listener, options);\n}\n"],"names":["RGB","RGBA","HSL","HSLA","COLOR_MODELS","FUNCTION","PROPERTY","ARRAY","OBJECT","STRING","NUMBER","UNDEFINED","IS_WINDOW","window","doc","document","prefixes","getCrossBrowserProperty","property","styles","body","documentElement","style","length","i","name","TRANSFORM","FILTER","ANIMATION","KEYFRAMES","replace","OPEN_CLOSED_CHARACTERS","open","close","TINY_NUM","DEFAULT_UNIT_PRESETS","pos","size","innerWidth","innerHeight","Math","max","min","dot","a1","a2","b1","b2","isUndefined","value","isObject","isArray","Array","isString","isNumber","isFunction","isEqualSeparator","character","separator","isCharacterSpace","isSeparatorSpace","findOpen","openCharacter","texts","index","openCloseCharacters","isIgnore","findIgnore","findClose","ignore","otherText","slice","join","RegExp","exec","closeCharacter","trim","nextIndex","find","_a","splitText","text","splitOptions","_b","isSeparateFirst","isSeparateOnlyOpenClose","_c","isSeparateOpenClose","_d","openClosedText","map","regexText","regex","split","filter","Boolean","values","tempValues","resetTemp","push","Error","splitSpace","splitComma","splitBracket","matches","prefix","suffix","splitUnit","unit","NaN","parseFloat","camelize","str","all","letter","toUpperCase","decamelize","letter2","toLowerCase","toArray","call","now","Date","getTime","findIndex","arr","callback","defaultIndex","findLastIndex","findLast","defalutValue","requestAnimationFrame","firstTime","raf","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","bind","currTime","id","setTimeout","cancelAnimationFrame","caf","webkitCancelAnimationFrame","mozCancelAnimationFrame","msCancelAnimationFrame","handle","clearTimeout","getKeys","obj","Object","keys","sortOrders","orders","sort","a","b","index1","indexOf","index2","convertUnitSize","sizeFunction","between","checkBoundSize","targetSize","compareSize","isMax","throttle","every","calculateBoundSize","minSize","maxSize","keepRatio","width","height","minWidth","minHeight","maxWidth","maxHeight","sum","nums","total","average","getRad","pos1","pos2","distX","distY","rad","atan2","PI","getCenterPoint","points","getShapeDirection","center","pos1Rad","pos2Rad","getDist","sqrt","pow","num","round","throttleArray","forEach","_","counter","replaceOnce","fromText","toText","isOnce","_i","args","cutHex","hex","hexToRGBA","h","r","parseInt","substring","g","isNaN","toFullHex","charAt","hslToRGBA","hsl","s","l","floor","abs","c","x","m","rgb","stringToRGBA","color","undefined","colorArr","$","selectors","multi","querySelectorAll","querySelector","hasClass","element","className","classList","contains","match","addClass","add","removeClass","remove","reg","fromCSS","elements","properties","Element","cssObject","getComputedStyle","addEvent","el","type","listener","options","addEventListener","removeEvent","removeEventListener"],"mappings":";;;;;;;;;;;;;;EAAA;;;;;EAOA;;;;;;;;AAQA,EAAO,IAAMA,GAAG,GAAG,KAAZ;EACP;;;;;;;;;AAQA,EAAO,IAAMC,IAAI,GAAG,MAAb;EACP;;;;;;;;;AAQA,EAAO,IAAMC,GAAG,GAAG,KAAZ;EACP;;;;;;;;;AAQA,EAAO,IAAMC,IAAI,GAAG,MAAb;EACP;;;;;;;;;AAQA,EAAO,IAAMC,YAAY,GAAG,CAACJ,GAAD,EAAMC,IAAN,EAAYC,GAAZ,EAAiBC,IAAjB,CAArB;EAEP;;;;;;;;;AAQA,EAAO,IAAME,QAAQ,GAAG,UAAjB;EACP;;;;;;;;;AAQA,EAAO,IAAMC,QAAQ,GAAG,UAAjB;EACP;;;;;;;;;AAQA,EAAO,IAAMC,KAAK,GAAG,OAAd;EACP;;;;;;;;;AAQA,EAAO,IAAMC,MAAM,GAAG,QAAf;EACP;;;;;;;;;AAQA,EAAO,IAAMC,MAAM,GAAG,QAAf;EACP;;;;;;;;;AAQA,EAAO,IAAMC,MAAM,GAAG,QAAf;EACP;;;;;;;;;AAQA,EAAO,IAAMC,SAAS,GAAG,WAAlB;EAEP;;;;;;;;;;AASA,EAAO,IAAMC,SAAS,GAAG,OAAOC,MAAP,KAAkBF,SAApC;EAEP;;;;;;;;;;;EAUA,IAAMG,GAAG,GAAI,OAAOC,QAAP,KAAoBJ,SAApB,IAAiCI,QAA9C;EAIA,IAAMC,QAAQ,GAAa,CAAC,QAAD,EAAW,IAAX,EAAiB,KAAjB,EAAwB,GAAxB,CAA3B;EAEA;;;;EAIA;;;;;;;;;;;;;AAYA,EAAO,IAAMC,uBAAuB,gBAAiB,UAACC,QAAD;EACnD,MAAI,CAACJ,GAAL,EAAU;EACR,WAAO,EAAP;EACD;;EACD,MAAMK,MAAM,GAAG,CAACL,GAAG,CAACM,IAAJ,IAAYN,GAAG,CAACO,eAAjB,EAAkCC,KAAjD;EACA,MAAMC,MAAM,GAAGP,QAAQ,CAACO,MAAxB;;EAEA,MAAI,OAAOJ,MAAM,CAACD,QAAD,CAAb,KAA4BP,SAAhC,EAA2C;EACzC,WAAOO,QAAP;EACD;;EACD,OAAK,IAAIM,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,MAApB,EAA4B,EAAEC,CAA9B,EAAiC;EAC/B,QAAMC,IAAI,GAAG,MAAIT,QAAQ,CAACQ,CAAD,CAAZ,MAAA,GAAmBN,QAAhC;;EAEA,QAAI,OAAOC,MAAM,CAACM,IAAD,CAAb,KAAwBd,SAA5B,EAAuC;EACrC,aAAOc,IAAP;EACD;EACF;;EACD,SAAO,EAAP;EACD,CAlBM;EAoBP;;;;;;;;;AAQA,EAAO,IAAMC,SAAS,gBAAgBT,uBAAuB,CAAC,WAAD,CAAtD;EACP;;;;;;;;;AAQA,EAAO,IAAMU,MAAM,gBAAgBV,uBAAuB,CAAC,QAAD,CAAnD;EACP;;;;;;;;;AAQA,EAAO,IAAMW,SAAS,gBAAgBX,uBAAuB,CAAC,WAAD,CAAtD;EACP;;;;;;;;;AAQA,EAAO,IAAMY,SAAS,gBAAgBD,SAAS,CAACE,OAAV,CAAkB,WAAlB,EAA+B,WAA/B,CAA/B;AAEP,EAAO,IAAMC,sBAAsB,GAAyB,CAC1D;EAAEC,EAAAA,IAAI,EAAE,GAAR;EAAaC,EAAAA,KAAK,EAAE;EAApB,CAD0D,EAE1D;EAAED,EAAAA,IAAI,EAAE,IAAR;EAAaC,EAAAA,KAAK,EAAE;EAApB,CAF0D,EAG1D;EAAED,EAAAA,IAAI,EAAE,GAAR;EAAaC,EAAAA,KAAK,EAAE;EAApB,CAH0D,EAI1D;EAAED,EAAAA,IAAI,EAAE,MAAR;EAAeC,EAAAA,KAAK,EAAE;EAAtB,CAJ0D,EAK1D;EAAED,EAAAA,IAAI,EAAE,KAAR;EAAeC,EAAAA,KAAK,EAAE;EAAtB,CAL0D,CAArD;AAOP,EAAO,IAAMC,QAAQ,GAAG,SAAjB;AACP,EAAO,IAAMC,oBAAoB,GAAoD;EACnF,QAAM,UAAAC,GAAA;EAAO,WAAAA,GAAG,GAAG,EAAN,GAAW,IAAX;EAAe,GADuD;EAEnF,QAAM,UAAAA,GAAA;EAAO,WAAAA,GAAG,GAAG,EAAN,GAAW,GAAX;EAAc,GAFwD;EAGnF,QAAM,UAAAA,GAAA;EAAO,WAAAA,GAAG,GAAG,EAAN;EAAQ,GAH8D;EAInF,QAAM,UAAAA,GAAA;EAAO,WAAAA,GAAG,GAAG,EAAN,GAAW,EAAX;EAAa,GAJyD;EAKnF,QAAM,UAAAA,GAAA;EAAO,WAAAA,GAAG,GAAG,EAAN,GAAW,CAAX;EAAY,GAL0D;EAMnF,OAAK,UAACA,GAAD,EAAMC,IAAN;EAAe,WAAAD,GAAG,GAAGC,IAAN,GAAc,GAAd;EAAiB,GAN8C;EAOnF,QAAM,UAACD,GAAD,EAAMC,IAAN;EAAM,uBAAA,EAAA;EAAAA,MAAAA,OAAOxB,MAAM,CAACyB,UAAd;;;EAA6B,WAAAF,GAAG,GAAG,GAAN,GAAYC,IAAZ;EAAgB,GAP0B;EAQnF,QAAM,UAACD,GAAD,EAAMC,IAAN;EAAM,uBAAA,EAAA;EAAAA,MAAAA,OAAOxB,MAAM,CAAC0B,WAAd;;;EAA8B,WAAAH,GAAG,GAAG,GAAN,GAAYC,IAAZ;EAAgB,GARyB;EASnF,UAAQ,UAACD,GAAD,EAAMC,IAAN;EAAM,uBAAA,EAAA;EAAAA,MAAAA,OAAOG,IAAI,CAACC,GAAL,CAAS5B,MAAM,CAACyB,UAAhB,EAA4BzB,MAAM,CAAC0B,WAAnC,CAAP;;;EAA2D,WAAAH,GAAG,GAAG,GAAN,GAAYC,IAAZ;EAAgB,GATN;EAUnF,UAAQ,UAACD,GAAD,EAAMC,IAAN;EAAM,uBAAA,EAAA;EAAAA,MAAAA,OAAOG,IAAI,CAACE,GAAL,CAAS7B,MAAM,CAACyB,UAAhB,EAA4BzB,MAAM,CAAC0B,WAAnC,CAAP;;;EAA2D,WAAAH,GAAG,GAAG,GAAN,GAAYC,IAAZ;EAAgB;EAVN,CAA9E;;ECzNP;;;;;EAKA;;;;;;;;;;;;;;;AAcA,WAAgBM,IAAIC,IAAYC,IAAYC,IAAYC;EACtD,SAAO,CAACH,EAAE,GAAGG,EAAL,GAAUF,EAAE,GAAGC,EAAhB,KAAuBA,EAAE,GAAGC,EAA5B,CAAP;EACD;EACD;;;;;;;;;;;;;;AAaA,WAAgBC,YAAYC;EAC1B,SAAQ,OAAOA,KAAP,KAAiBtC,SAAzB;EACD;EACD;;;;;;;;;;;;;;AAaA,WAAgBuC,SAASD;EACvB,SAAOA,KAAK,IAAK,OAAOA,KAAP,KAAiBzC,MAAlC;EACD;EACD;;;;;;;;;;;;;;AAaA,WAAgB2C,QAAQF;EACtB,SAAOG,KAAK,CAACD,OAAN,CAAcF,KAAd,CAAP;EACD;EACD;;;;;;;;;;;;;;AAaA,WAAgBI,SAASJ;EACvB,SAAO,OAAOA,KAAP,KAAiBxC,MAAxB;EACD;AAED,WAAgB6C,SAASL;EACvB,SAAO,OAAOA,KAAP,KAAiBvC,MAAxB;EACD;EAED;;;;;;;;;;;;;;;AAcA,WAAgB6C,WAAWN;EACzB,SAAO,OAAOA,KAAP,KAAiB5C,QAAxB;EACD;;EACD,SAASmD,gBAAT,CACEC,SADF,EAEEC,SAFF;EAIE,MAAMC,gBAAgB,GAAGF,SAAS,KAAK,EAAd,IAAoBA,SAAS,IAAI,GAA1D;EACA,MAAMG,gBAAgB,GAAGF,SAAS,KAAK,EAAd,IAAoBA,SAAS,IAAI,GAA1D;EAEA,SAAQE,gBAAgB,IAAID,gBAArB,IAA0CF,SAAS,KAAKC,SAA/D;EACD;;EACD,SAASG,QAAT,CACEC,aADF,EAEEC,KAFF,EAGEC,KAHF,EAIEzC,MAJF,EAKE0C,mBALF;EAOE,MAAMC,QAAQ,GAAGC,UAAU,CAACL,aAAD,EAAgBC,KAAhB,EAAuBC,KAAvB,CAA3B;;EAEA,MAAI,CAACE,QAAL,EAAe;EACb,WAAOE,SAAS,CAACN,aAAD,EAAgBC,KAAhB,EAAuBC,KAAK,GAAG,CAA/B,EAAkCzC,MAAlC,EAA0C0C,mBAA1C,CAAhB;EACD;;EACD,SAAOD,KAAP;EACD;;EACD,SAASG,UAAT,CACEV,SADF,EAEEM,KAFF,EAGEC,KAHF;EAKE,MAAI,CAACP,SAAS,CAACY,MAAf,EAAuB;EACrB,WAAO,IAAP;EACD;;EACD,MAAMC,SAAS,GAAGP,KAAK,CAACQ,KAAN,CAAY/B,IAAI,CAACC,GAAL,CAASuB,KAAK,GAAG,CAAjB,EAAoB,CAApB,CAAZ,EAAoCA,KAAK,GAAG,CAA5C,EAA+CQ,IAA/C,CAAoD,EAApD,CAAlB;EAEA,SAAO,IAAIC,MAAJ,CAAWhB,SAAS,CAACY,MAArB,EAA6BK,IAA7B,CAAkCJ,SAAlC,CAAP;EAED;;EACD,SAASF,SAAT,CACEO,cADF,EAEEZ,KAFF,EAGEC,KAHF,EAIEzC,MAJF,EAKE0C,mBALF;4BAOWzC;EACP,QAAMiC,SAAS,GAAGM,KAAK,CAACvC,CAAD,CAAL,CAASoD,IAAT,EAAlB;;EAEA,QAAInB,SAAS,KAAKkB,cAAc,CAAC1C,KAA7B,IAAsC,CAACkC,UAAU,CAACQ,cAAD,EAAiBZ,KAAjB,EAAwBvC,CAAxB,CAArD,EAAiF;;iBACxEA;;EACR;;EACD,QAAIqD,SAAS,GAAGrD,CAAhB;;EAEA,QAAMsC,aAAa,GAAGgB,IAAI,CAACb,mBAAD,EAAsB,UAACc,EAAD;YAAG/C,IAAI;EAAO,aAAAA,IAAI,KAAKyB,SAAT;EAAkB,KAAtD,CAA1B;;EAEA,QAAIK,aAAJ,EAAmB;EACjBe,MAAAA,SAAS,GAAGhB,QAAQ,CAACC,aAAD,EAAgBC,KAAhB,EAAuBvC,CAAvB,EAA0BD,MAA1B,EAAkC0C,mBAAlC,CAApB;EACD;;EACD,QAAIY,SAAS,KAAK,CAAC,CAAnB,EAAsB;yBAbfrD;EAeN;;EACDA,IAAAA,CAAC,GAAGqD,SAAJ;gBAhBOrD;;;;;EAAT,OAAK,IAAIA,CAAC,GAAGwC,KAAb,EAAoBxC,CAAC,GAAGD,MAAxB,EAAgC,EAAEC,CAAlC;4BAASA;;EAAAA,IAAAA,CAAC,UAAD;;;EAiBR;;EACD,SAAO,CAAC,CAAR;EACD;;AAED,WAAgBwD,UACdC,MACAC;EAEM,MAAAH,KAMF1B,QAAQ,CAAC6B,YAAD,CAAR,GAAyB;EAC3BxB,IAAAA,SAAS,EAAEwB;EADgB,GAAzB,GAEgBA,YARd;EAAA,MACJC,iBADI;EAAA,MACJzB,SAAS,mBAAG,QADR;EAAA,MAEJ0B,eAAe,qBAFX;EAAA,MAGJC,uBAAuB,6BAHnB;EAAA,MAIJC,2BAJI;EAAA,MAIJC,mBAAmB,mBAAGF,4BAJlB;EAAA,MAKJG,2BALI;EAAA,MAKJvB,mBAAmB,mBAAGlC,2BALlB;;EASN,MAAM0D,cAAc,GAAGxB,mBAAmB,CAACyB,GAApB,CAAwB,UAACX,EAAD;UAAG/C,IAAI;UAAEC,KAAK;;EAC3D,QAAID,IAAI,KAAKC,KAAb,EAAoB;EAClB,aAAOD,IAAP;EACD;;EACD,WAAUA,IAAI,MAAJ,GAAQC,KAAlB;EACD,GALsB,EAKpBuC,IALoB,CAKf,GALe,CAAvB;EAMA,MAAMmB,SAAS,GAAG,UAAQjC,SAAR,UAAA,GAAyB+B,cAAzB,WAAlB;EACA,MAAMG,KAAK,GAAG,IAAInB,MAAJ,CAAWkB,SAAX,EAAsB,GAAtB,CAAd;EACA,MAAM5B,KAAK,GAAGkB,IAAI,CAACY,KAAL,CAAWD,KAAX,EAAkBE,MAAlB,CAAyBC,OAAzB,CAAd;EACA,MAAMxE,MAAM,GAAGwC,KAAK,CAACxC,MAArB;EACA,MAAMyE,MAAM,GAAa,EAAzB;EACA,MAAIC,UAAU,GAAa,EAA3B;;EAEA,WAASC,SAAT;EACE,QAAID,UAAU,CAAC1E,MAAf,EAAuB;EACrByE,MAAAA,MAAM,CAACG,IAAP,CAAYF,UAAU,CAACzB,IAAX,CAAgB,EAAhB,CAAZ;EACAyB,MAAAA,UAAU,GAAG,EAAb;EAEA,aAAO,IAAP;EACD;;EACD,WAAO,KAAP;EACD;;4BACQzE;EACP,QAAMiC,SAAS,GAAGM,KAAK,CAACvC,CAAD,CAAL,CAASoD,IAAT,EAAlB;EACA,QAAIC,SAAS,GAAGrD,CAAhB;EAGA,QAAMsC,aAAa,GAAGgB,IAAI,CAACb,mBAAD,EAAsB,UAACc,EAAD;YAAG/C,IAAI;EAAO,aAAAA,IAAI,KAAKyB,SAAT;EAAkB,KAAtD,CAA1B;EACA,QAAMkB,cAAc,GAAGG,IAAI,CAACb,mBAAD,EAAsB,UAACc,EAAD;YAAG9C,KAAK;EAAO,aAAAA,KAAK,KAAKwB,SAAV;EAAmB,KAAxD,CAA3B;;EAEA,QAAIK,aAAJ,EAAmB;EACjBe,MAAAA,SAAS,GAAGhB,QAAQ,CAACC,aAAD,EAAgBC,KAAhB,EAAuBvC,CAAvB,EAA0BD,MAA1B,EAAkC0C,mBAAlC,CAApB;;EAEA,UAAIY,SAAS,KAAK,CAAC,CAAf,IAAoBU,mBAAxB,EAA6C;EAC3C,YAAIW,SAAS,MAAMd,eAAnB,EAAoC;6BAZjC5D;EAcF;;EACDwE,QAAAA,MAAM,CAACG,IAAP,CAAYpC,KAAK,CAACQ,KAAN,CAAY/C,CAAZ,EAAeqD,SAAS,GAAG,CAA3B,EAA8BL,IAA9B,CAAmC,EAAnC,CAAZ;EACAhD,QAAAA,CAAC,GAAGqD,SAAJ;;EAEA,YAAIO,eAAJ,EAAqB;6BAlBlB5D;EAoBF;;2BApBEA;EAsBJ;EACF,KAfD,MAeO,IAAImD,cAAc,IAAI,CAACR,UAAU,CAACQ,cAAD,EAAiBZ,KAAjB,EAAwBvC,CAAxB,CAAjC,EAA6D;EAClE,YAAM,IAAI4E,KAAJ,CAAU,qBAAmBzB,cAAc,CAAC1C,KAA5C,CAAN;EACD,KAFM,MAEA,IAAIuB,gBAAgB,CAACC,SAAD,EAAYC,SAAZ,CAAhB,IAA0C,CAAC2B,uBAA/C,EAAwE;EAC7Ea,MAAAA,SAAS;;EACT,UAAId,eAAJ,EAAqB;2BA3BhB5D;EA6BJ;;yBA7BIA;EA+BN;;EAED,QAAIqD,SAAS,KAAK,CAAC,CAAnB,EAAsB;EACpBA,MAAAA,SAAS,GAAGtD,MAAM,GAAG,CAArB;EACD;;EACD0E,IAAAA,UAAU,CAACE,IAAX,CAAgBpC,KAAK,CAACQ,KAAN,CAAY/C,CAAZ,EAAeqD,SAAS,GAAG,CAA3B,EAA8BL,IAA9B,CAAmC,EAAnC,CAAhB;EACAhD,IAAAA,CAAC,GAAGqD,SAAJ;gBArCOrD;;;;;EAAT,OAAK,IAAIA,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,MAApB,EAA4B,EAAEC,CAA9B;4BAASA;;EAAAA,IAAAA,CAAC,UAAD;;EAsCR;;EACD,MAAIyE,UAAU,CAAC1E,MAAf,EAAuB;EACrByE,IAAAA,MAAM,CAACG,IAAP,CAAYF,UAAU,CAACzB,IAAX,CAAgB,EAAhB,CAAZ;EACD;;EACD,SAAOwB,MAAP;EACD;EAED;;;;;;;;;;;;;;AAaA,WAAgBK,WAAWpB;EACzB;EACA,SAAOD,SAAS,CAACC,IAAD,EAAO,EAAP,CAAhB;EACD;EAED;;;;;;;;;;;;;;AAaA,WAAgBqB,WAAWrB;EACzB;EACA;EACA,SAAOD,SAAS,CAACC,IAAD,EAAO,GAAP,CAAhB;EACD;EACD;;;;;;;;;;;;;;AAaA,WAAgBsB,aAAatB;EAC3B,MAAMuB,OAAO,GAAI,gCAAD,CAAmC9B,IAAnC,CAAwCO,IAAxC,CAAhB;;EAEA,MAAI,CAACuB,OAAD,IAAYA,OAAO,CAACjF,MAAR,GAAiB,CAAjC,EAAoC;EAClC,WAAO,EAAP;EACD,GAFD,MAEO;EACL,WAAO;EAAEkF,MAAAA,MAAM,EAAED,OAAO,CAAC,CAAD,CAAjB;EAAsBvD,MAAAA,KAAK,EAAEuD,OAAO,CAAC,CAAD,CAApC;EAAyCE,MAAAA,MAAM,EAAEF,OAAO,CAAC,CAAD;EAAxD,KAAP;EACD;EACF;EACD;;;;;;;;;;;;;;;;AAeA,WAAgBG,UAAU1B;EACxB,MAAMuB,OAAO,GAAG,gDAAgD9B,IAAhD,CAAqDO,IAArD,CAAhB;;EAEA,MAAI,CAACuB,OAAL,EAAc;EACZ,WAAO;EAAEC,MAAAA,MAAM,EAAE,EAAV;EAAcG,MAAAA,IAAI,EAAE,EAApB;EAAwB3D,MAAAA,KAAK,EAAE4D;EAA/B,KAAP;EACD;;EACD,MAAMJ,MAAM,GAAGD,OAAO,CAAC,CAAD,CAAtB;EACA,MAAMvD,KAAK,GAAGuD,OAAO,CAAC,CAAD,CAArB;EACA,MAAMI,IAAI,GAAGJ,OAAO,CAAC,CAAD,CAApB;EAEA,SAAO;EAAEC,IAAAA,MAAM,QAAR;EAAUG,IAAAA,IAAI,MAAd;EAAgB3D,IAAAA,KAAK,EAAE6D,UAAU,CAAC7D,KAAD;EAAjC,GAAP;EACD;EAED;;;;;;;;;;;;;AAYA,WAAgB8D,SAASC;EACvB,SAAOA,GAAG,CAAClF,OAAJ,CAAY,gBAAZ,EAA8B,UAACmF,GAAD,EAAMC,MAAN;EAAiB,WAAAA,MAAM,CAACC,WAAP,EAAA;EAAoB,GAAnE,CAAP;EACD;EACD;;;;;;;;;;;;;AAYA,WAAgBC,WAAWJ,KAAatD;EAAA,0BAAA,EAAA;EAAAA,IAAAA,eAAA;;;EACtC,SAAOsD,GAAG,CAAClF,OAAJ,CAAY,iBAAZ,EAA+B,UAACmF,GAAD,EAAMC,MAAN,EAAcG,OAAd;EAA0B,WAAA,KAAGH,MAAH,GAAYxD,SAAZ,GAAwB2D,OAAO,CAACC,WAAR,EAAxB;EAA+C,GAAxG,CAAP;EACD;EAED;;;;;;;;;;;;AAWA,WAAgBC,QAAWtE;EACzB,SAAO,GAAGsB,KAAH,CAASiD,IAAT,CAAcvE,KAAd,CAAP;EACD;EAED;;;;;;;;;;AASA,WAAgBwE;EACd,SAAOC,IAAI,CAACD,GAAL,GAAWC,IAAI,CAACD,GAAL,EAAX,GAAwB,IAAIC,IAAJ,GAAWC,OAAX,EAA/B;EACD;EAED;;;;;;;;;;;;;AAYA,WAAgBC,UACdC,KACAC,UACAC;EAAA,6BAAA,EAAA;EAAAA,IAAAA,gBAAwB,CAAxB;;;EAEA,MAAMxG,MAAM,GAAGsG,GAAG,CAACtG,MAAnB;;EAEA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,MAApB,EAA4B,EAAEC,CAA9B,EAAiC;EAC/B,QAAIsG,QAAQ,CAACD,GAAG,CAACrG,CAAD,CAAJ,EAASA,CAAT,EAAYqG,GAAZ,CAAZ,EAA8B;EAC5B,aAAOrG,CAAP;EACD;EACF;;EACD,SAAOuG,YAAP;EACD;EAED;;;;;;;;;;;;;AAYA,WAAgBC,cACdH,KACAC,UACAC;EAAA,6BAAA,EAAA;EAAAA,IAAAA,gBAAwB,CAAxB;;;EAEA,MAAMxG,MAAM,GAAGsG,GAAG,CAACtG,MAAnB;;EAEA,OAAK,IAAIC,CAAC,GAAGD,MAAM,GAAG,CAAtB,EAAyBC,CAAC,IAAI,CAA9B,EAAiC,EAAEA,CAAnC,EAAsC;EACpC,QAAIsG,QAAQ,CAACD,GAAG,CAACrG,CAAD,CAAJ,EAASA,CAAT,EAAYqG,GAAZ,CAAZ,EAA8B;EAC5B,aAAOrG,CAAP;EACD;EACF;;EACD,SAAOuG,YAAP;EACD;EAED;;;;;;;;;;;;;AAYA,WAAgBE,SACdJ,KACAC,UACAI;EAEA,MAAMlE,KAAK,GAAGgE,aAAa,CAACH,GAAD,EAAMC,QAAN,CAA3B;EAEA,SAAO9D,KAAK,GAAG,CAAE,CAAV,GAAc6D,GAAG,CAAC7D,KAAD,CAAjB,GAA2BkE,YAAlC;EACD;EACD;;;;;;;;;;;;;AAYA,WAAgBpD,KACd+C,KACAC,UACAI;EAEA,MAAMlE,KAAK,GAAG4D,SAAS,CAACC,GAAD,EAAMC,QAAN,CAAvB;EAEA,SAAO9D,KAAK,GAAG,CAAE,CAAV,GAAc6D,GAAG,CAAC7D,KAAD,CAAjB,GAA2BkE,YAAlC;EACD;EAED;;;;;;;;;;;;;;AAaA,EAAO,IAAMC,qBAAqB,gBAAiB;EACjD,MAAMC,SAAS,GAAGX,GAAG,EAArB;EACA,MAAMY,GAAG,GAAGzH,SAAS,KACfC,MAAM,CAACsH,qBAAP,IAAgCtH,MAAM,CAACyH,2BAAvC,IACEzH,MAAc,CAAC0H,wBADjB,IAC8C1H,MAAc,CAAC2H,uBAF9C,CAArB;EAIA,SAAOH,GAAG,GAAIA,GAAG,CAACI,IAAJ,CAAS5H,MAAT,CAAJ,GAAuE,UAACiH,QAAD;EAC/E,QAAMY,QAAQ,GAAGjB,GAAG,EAApB;EACA,QAAMkB,EAAE,GAAG9H,MAAM,CAAC+H,UAAP,CAAkB;EAC3Bd,MAAAA,QAAQ,CAACY,QAAQ,GAAGN,SAAZ,CAAR;EACD,KAFU,EAER,OAAO,EAFC,CAAX;EAGA,WAAOO,EAAP;EACD,GAND;EAOD,CAbiD,EAA3C;EAeP;;;;;;;;;;;;;;;;AAeA,EAAO,IAAME,oBAAoB,gBAAiB;EAChD,MAAMC,GAAG,GAAGlI,SAAS,KACfC,MAAM,CAACgI,oBAAP,IAA+BhI,MAAM,CAACkI,0BAAtC,IACElI,MAAc,CAACmI,uBADjB,IAC6CnI,MAAc,CAACoI,sBAF7C,CAArB;EAIA,SAAOH,GAAG,GACNA,GAAG,CAACL,IAAJ,CAAS5H,MAAT,CADM,GAEL,UAACqI,MAAD;EAAsBC,IAAAA,YAAY,CAACD,MAAD,CAAZ;EAAuB,GAFlD;EAGD,CARgD,EAA1C;EASP;;;;;AAIA,WAAgBE,QAAQC;EACtB,MAAIC,MAAM,CAACC,IAAX,EAAiB;EACf,WAAOD,MAAM,CAACC,IAAP,CAAYF,GAAZ,CAAP;EACD;;EACD,MAAME,IAAI,GAAa,EAAvB;;EACA,OAAK,IAAM9H,IAAX,IAAmB8H,IAAnB,EAAyB;EACvBA,IAAAA,IAAI,CAACpD,IAAL,CAAU1E,IAAV;EACD;;EACD,SAAO8H,IAAP;EACD;EAED;;;;;AAIA,WAAgBC,WAAWD,MAA8BE;EAAA,uBAAA,EAAA;EAAAA,IAAAA,WAAA;;;EACvDF,EAAAA,IAAI,CAACG,IAAL,CAAU,UAACC,CAAD,EAAIC,CAAJ;EACR,QAAMC,MAAM,GAAGJ,MAAM,CAACK,OAAP,CAAeH,CAAf,CAAf;EACA,QAAMI,MAAM,GAAGN,MAAM,CAACK,OAAP,CAAeF,CAAf,CAAf;;EAEA,QAAIG,MAAM,KAAK,CAAC,CAAZ,IAAiBF,MAAM,KAAK,CAAC,CAAjC,EAAoC;EAClC,aAAO,CAAP;EACD;;EACD,QAAIA,MAAM,KAAK,CAAC,CAAhB,EAAmB;EACjB,aAAO,CAAP;EACD;;EACD,QAAIE,MAAM,KAAK,CAAC,CAAhB,EAAmB;EACjB,aAAO,CAAC,CAAR;EACD;;EACD,WAAOF,MAAM,GAAGE,MAAhB;EACD,GAdD;EAeD;EAED;;;;;;AAKA,WAAgBC,gBAAgB5H,KAAaC;EACrC,MAAA0C,KAAkB4B,SAAS,CAACvE,GAAD,CAA3B;EAAA,MAAEa,KAAK,WAAP;EAAA,MAAS2D,IAAI,UAAb;;EAEN,MAAI1D,QAAQ,CAACb,IAAD,CAAZ,EAAoB;EAClB,QAAM4H,YAAY,GAAG5H,IAAI,CAACuE,IAAD,CAAzB;;EACA,QAAIqD,YAAJ,EAAkB;EAChB,UAAI1G,UAAU,CAAC0G,YAAD,CAAd,EAA8B;EAC5B,eAAOA,YAAY,CAAChH,KAAD,CAAnB;EACD,OAFD,MAEO,IAAId,oBAAoB,CAACyE,IAAD,CAAxB,EAAgC;EACrC,eAAOzE,oBAAoB,CAACyE,IAAD,CAApB,CAA2B3D,KAA3B,EAAkCgH,YAAlC,CAAP;EACD;EACF;EACF,GATD,MASO,IAAIrD,IAAI,KAAK,GAAb,EAAkB;EACvB,WAAO3D,KAAK,GAAGZ,IAAR,GAAe,GAAtB;EACD;;EACD,MAAIF,oBAAoB,CAACyE,IAAD,CAAxB,EAAgC;EAC9B,WAAOzE,oBAAoB,CAACyE,IAAD,CAApB,CAA2B3D,KAA3B,CAAP;EACD;;EACD,SAAOA,KAAP;EACD;EAED;;;;;;AAKA,WAAgBiH,QAAQjH,OAAeP,KAAaD;EAClD,SAAOD,IAAI,CAACC,GAAL,CAASC,GAAT,EAAcF,IAAI,CAACE,GAAL,CAASO,KAAT,EAAgBR,GAAhB,CAAd,CAAP;EACD;AAED,WAAgB0H,eAAeC,YAAsBC,aAAuBC;EAC1E,SAAO,CACL,CAACC,QAAQ,CAACF,WAAW,CAAC,CAAD,CAAZ,EAAiBnI,QAAjB,CAAT,EAAqCqI,QAAQ,CAACF,WAAW,CAAC,CAAD,CAAX,GAAiBD,UAAU,CAAC,CAAD,CAA3B,GAAiCA,UAAU,CAAC,CAAD,CAA5C,EAAiDlI,QAAjD,CAA7C,CADK,EAEL,CAACqI,QAAQ,CAACF,WAAW,CAAC,CAAD,CAAX,GAAiBD,UAAU,CAAC,CAAD,CAA3B,GAAiCA,UAAU,CAAC,CAAD,CAA5C,EAAiDlI,QAAjD,CAAT,EAAqEqI,QAAQ,CAACF,WAAW,CAAC,CAAD,CAAZ,EAAiBnI,QAAjB,CAA7E,CAFK,EAGL4D,MAHK,CAGE,UAAAzD,IAAA;EAAQ,WAAAA,IAAI,CAACmI,KAAL,CAAW,UAACvH,KAAD,EAAQzB,CAAR;EAC1B,aAAO8I,KAAK,GAAGrH,KAAK,IAAIoH,WAAW,CAAC7I,CAAD,CAAvB,GAA6ByB,KAAK,IAAIoH,WAAW,CAAC7I,CAAD,CAA7D;EACD,KAFgB,CAAA;EAEf,GALK,EAKH,CALG,KAKG4I,UALV;EAMD;EAED;;;;;;AAKA,WAAgBK,mBACdpI,MAAgBqI,SAChBC,SAAmBC;EAEnB,MAAI,CAACA,SAAL,EAAgB;EACd,WAAOvI,IAAI,CAACqD,GAAL,CAAS,UAACzC,KAAD,EAAQzB,CAAR;EAAc,aAAA0I,OAAO,CAACjH,KAAD,EAAQyH,OAAO,CAAClJ,CAAD,CAAf,EAAoBmJ,OAAO,CAACnJ,CAAD,CAA3B,CAAP;EAAsC,KAA7D,CAAP;EACD;;EACI,MAAAqJ,KAAK,GAAYxI,IAAI,EAAA,CAArB;EAAA,MAAOyI,MAAM,GAAIzI,IAAI,EAAA,CAArB;;EAEC,MAAA0C,KAAwBoF,cAAc,CAAC9H,IAAD,EAAOqI,OAAP,EAAgB,KAAhB,CAAtC;EAAA,MAACK,QAAQ,QAAT;EAAA,MAAWC,SAAS,QAApB;;EACA,MAAA7F,KAAwBgF,cAAc,CAAC9H,IAAD,EAAOsI,OAAP,EAAgB,IAAhB,CAAtC;EAAA,MAACM,QAAQ,QAAT;EAAA,MAAWC,SAAS,QAApB;;EAEN,MAAIL,KAAK,GAAGE,QAAR,IAAoBD,MAAM,GAAGE,SAAjC,EAA4C;EAC1CH,IAAAA,KAAK,GAAGE,QAAR;EACAD,IAAAA,MAAM,GAAGE,SAAT;EACD,GAHD,MAGO,IAAIH,KAAK,GAAGI,QAAR,IAAoBH,MAAM,GAAGI,SAAjC,EAA4C;EACjDL,IAAAA,KAAK,GAAGI,QAAR;EACAH,IAAAA,MAAM,GAAGI,SAAT;EACD;;EACD,SAAO,CAACL,KAAD,EAAQC,MAAR,CAAP;EACD;EAGD;;;;;;AAKA,WAAgBK,IAAIC;EAClB,MAAM7J,MAAM,GAAG6J,IAAI,CAAC7J,MAApB;EACA,MAAI8J,KAAK,GAAG,CAAZ;;EAEA,OAAK,IAAI7J,CAAC,GAAGD,MAAM,GAAG,CAAtB,EAAyBC,CAAC,IAAI,CAA9B,EAAiC,EAAEA,CAAnC,EAAsC;EACpC6J,IAAAA,KAAK,IAAID,IAAI,CAAC5J,CAAD,CAAb;EACD;;EACD,SAAO6J,KAAP;EACD;EAED;;;;;;AAKA,WAAgBC,QAAQF;EACtB,MAAM7J,MAAM,GAAG6J,IAAI,CAAC7J,MAApB;EACA,MAAI8J,KAAK,GAAG,CAAZ;;EAEA,OAAK,IAAI7J,CAAC,GAAGD,MAAM,GAAG,CAAtB,EAAyBC,CAAC,IAAI,CAA9B,EAAiC,EAAEA,CAAnC,EAAsC;EACpC6J,IAAAA,KAAK,IAAID,IAAI,CAAC5J,CAAD,CAAb;EACD;;EACD,SAAOD,MAAM,GAAG8J,KAAK,GAAG9J,MAAX,GAAoB,CAAjC;EACD;EACD;;;;;;AAKA,WAAgBgK,OAAOC,MAAgBC;EACrC,MAAMC,KAAK,GAAGD,IAAI,CAAC,CAAD,CAAJ,GAAUD,IAAI,CAAC,CAAD,CAA5B;EACA,MAAMG,KAAK,GAAGF,IAAI,CAAC,CAAD,CAAJ,GAAUD,IAAI,CAAC,CAAD,CAA5B;EACA,MAAMI,GAAG,GAAGpJ,IAAI,CAACqJ,KAAL,CAAWF,KAAX,EAAkBD,KAAlB,CAAZ;EAEA,SAAOE,GAAG,IAAI,CAAP,GAAWA,GAAX,GAAiBA,GAAG,GAAGpJ,IAAI,CAACsJ,EAAL,GAAU,CAAxC;EACD;EACD;;;;;;AAKA,WAAgBC,eAAeC;EAC7B,SAAO,CAAC,CAAD,EAAI,CAAJ,EAAOtG,GAAP,CAAW,UAAAlE,CAAA;EAAK,WAAA8J,OAAO,CAACU,MAAM,CAACtG,GAAP,CAAW,UAAAtD,GAAA;EAAO,aAAAA,GAAG,CAACZ,CAAD,CAAH;EAAM,KAAxB,CAAD,CAAP;EAAkC,GAAlD,CAAP;EACD;EACD;;;;;;AAKA,WAAgByK,kBAAkBD;EAChC,MAAME,MAAM,GAAGH,cAAc,CAACC,MAAD,CAA7B;EACA,MAAMG,OAAO,GAAGZ,MAAM,CAACW,MAAD,EAASF,MAAM,CAAC,CAAD,CAAf,CAAtB;EACA,MAAMI,OAAO,GAAGb,MAAM,CAACW,MAAD,EAASF,MAAM,CAAC,CAAD,CAAf,CAAtB;EAEA,SAAQG,OAAO,GAAGC,OAAV,IAAqBA,OAAO,GAAGD,OAAV,GAAoB3J,IAAI,CAACsJ,EAA/C,IAAuDK,OAAO,GAAGC,OAAV,IAAqBA,OAAO,GAAGD,OAAV,GAAoB,CAAC3J,IAAI,CAACsJ,EAAtG,GACH,CADG,GACC,CAAC,CADT;EAED;EAED;;;;;;AAKA,WAAgBO,QAAQ1C,GAAaC;EACnC,SAAOpH,IAAI,CAAC8J,IAAL,CAAU9J,IAAI,CAAC+J,GAAL,CAAS,CAAC3C,CAAC,GAAGA,CAAC,CAAC,CAAD,CAAJ,GAAU,CAAZ,IAAiBD,CAAC,CAAC,CAAD,CAA3B,EAAgC,CAAhC,IAAqCnH,IAAI,CAAC+J,GAAL,CAAS,CAAC3C,CAAC,GAAGA,CAAC,CAAC,CAAD,CAAJ,GAAU,CAAZ,IAAiBD,CAAC,CAAC,CAAD,CAA3B,EAAgC,CAAhC,CAA/C,CAAP;EACD;EAED;;;;;;AAKA,WAAgBY,SAASiC,KAAa5F;EACpC,MAAI,CAACA,IAAL,EAAW;EACT,WAAO4F,GAAP;EACD;;EACD,SAAOhK,IAAI,CAACiK,KAAL,CAAWD,GAAG,GAAG5F,IAAjB,IAAyBA,IAAhC;EACD;EAED;;;;;;AAKA,WAAgB8F,cAActB,MAAgBxE;EAC5CwE,EAAAA,IAAI,CAACuB,OAAL,CAAa,UAACC,CAAD,EAAIpL,CAAJ;EACX4J,IAAAA,IAAI,CAAC5J,CAAD,CAAJ,GAAU+I,QAAQ,CAACa,IAAI,CAAC5J,CAAD,CAAL,EAAUoF,IAAV,CAAlB;EACD,GAFD;EAGA,SAAOwE,IAAP;EACD;EAED;;;;;AAIA,WAAgByB,QAAQL;EACtB,MAAMpB,IAAI,GAAa,EAAvB;;EAEA,OAAK,IAAI5J,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGgL,GAApB,EAAyB,EAAEhL,CAA3B,EAA8B;EAC5B4J,IAAAA,IAAI,CAACjF,IAAL,CAAU3E,CAAV;EACD;;EAED,SAAO4J,IAAP;EACD;EAED;;;;;AAIA,WAAgB0B,YAAY7H,MAAc8H,UAA2BC;EACnE,MAAIC,MAAM,GAAG,KAAb;EACA,SAAOhI,IAAI,CAACnD,OAAL,CAAaiL,QAAb,EAAuB;EAAC,iBAAA;;WAAA,YAAAG,uBAAAA;EAAAC,MAAAA,QAAA,gBAAA;;;EAC7B,QAAIF,MAAJ,EAAY;EACV,aAAOE,IAAI,CAAC,CAAD,CAAX;EACD;;EACDF,IAAAA,MAAM,GAAG,IAAT;EACA,WAAO5J,QAAQ,CAAC2J,MAAD,CAAR,GAAmBA,MAAnB,GAA4BA,MAAM,MAAN,OAAA,EAAUG,IAAV,CAAnC;EACD,GANM,CAAP;EAOD;;EC/wBD;;;;;EAKA;;;;;;;;;;;AAUA,WAAgBC,OAAOC;EACrB,SAAOA,GAAG,CAACvL,OAAJ,CAAY,GAAZ,EAAiB,EAAjB,CAAP;EACD;EACD;;;;;;;;;;;;;;AAaA,WAAgBwL,UAAUD;EACxB,MAAME,CAAC,GAAGH,MAAM,CAACC,GAAD,CAAhB;EACA,MAAMG,CAAC,GAAGC,QAAQ,CAACF,CAAC,CAACG,SAAF,CAAY,CAAZ,EAAe,CAAf,CAAD,EAAoB,EAApB,CAAlB;EACA,MAAMC,CAAC,GAAGF,QAAQ,CAACF,CAAC,CAACG,SAAF,CAAY,CAAZ,EAAe,CAAf,CAAD,EAAoB,EAApB,CAAlB;EACA,MAAM9D,CAAC,GAAG6D,QAAQ,CAACF,CAAC,CAACG,SAAF,CAAY,CAAZ,EAAe,CAAf,CAAD,EAAoB,EAApB,CAAlB;EACA,MAAI/D,CAAC,GAAG8D,QAAQ,CAACF,CAAC,CAACG,SAAF,CAAY,CAAZ,EAAe,CAAf,CAAD,EAAoB,EAApB,CAAR,GAAkC,GAA1C;;EAEA,MAAIE,KAAK,CAACjE,CAAD,CAAT,EAAc;EACZA,IAAAA,CAAC,GAAG,CAAJ;EACD;;EACD,SAAO,CAAC6D,CAAD,EAAIG,CAAJ,EAAO/D,CAAP,EAAUD,CAAV,CAAP;EACD;EAED;;;;;;;;;;;;AAWA,WAAgBkE,UAAUN;EACxB,MAAMC,CAAC,GAAGD,CAAC,CAACO,MAAF,CAAS,CAAT,CAAV;EACA,MAAMH,CAAC,GAAGJ,CAAC,CAACO,MAAF,CAAS,CAAT,CAAV;EACA,MAAMlE,CAAC,GAAG2D,CAAC,CAACO,MAAF,CAAS,CAAT,CAAV;EACA,MAAMnE,CAAC,GAAG4D,CAAC,CAACO,MAAF,CAAS,CAAT,CAAV;EACA,MAAMjG,GAAG,GAAG,CAAC,GAAD,EAAM2F,CAAN,EAASA,CAAT,EAAYG,CAAZ,EAAeA,CAAf,EAAkB/D,CAAlB,EAAqBA,CAArB,EAAwBD,CAAxB,EAA2BA,CAA3B,CAAZ;EAEA,SAAO9B,GAAG,CAACrD,IAAJ,CAAS,EAAT,CAAP;EACD;EACD;;;;;;;;;;;;AAWA,WAAgBuJ,UAAUC;;;EACxB,MAAIT,CAAC,GAAGS,GAAG,CAAC,CAAD,CAAX;EACA,MAAMC,CAAC,GAAGD,GAAG,CAAC,CAAD,CAAb;EACA,MAAME,CAAC,GAAGF,GAAG,CAAC,CAAD,CAAb;;EAEA,MAAIT,CAAC,GAAG,CAAR,EAAW;EACTA,IAAAA,CAAC,IAAK/K,IAAI,CAAC2L,KAAL,CAAW,CAAC3L,IAAI,CAAC4L,GAAL,CAASb,CAAT,IAAc,GAAf,IAAsB,GAAjC,IAAwC,GAA9C;EACD;;EACDA,EAAAA,CAAC,IAAI,GAAL;EAEA,MAAMc,CAAC,GAAG,CAAC,IAAI7L,IAAI,CAAC4L,GAAL,CAAS,IAAIF,CAAJ,GAAQ,CAAjB,CAAL,IAA4BD,CAAtC;EACA,MAAMK,CAAC,GAAGD,CAAC,IAAI,IAAI7L,IAAI,CAAC4L,GAAL,CAAUb,CAAC,GAAG,EAAL,GAAW,CAAX,GAAe,CAAxB,CAAR,CAAX;EACA,MAAMgB,CAAC,GAAGL,CAAC,GAAGG,CAAC,GAAG,CAAlB;EACA,MAAIG,GAAJ;;EAEA,MAAIjB,CAAC,GAAG,EAAR,EAAY;EACViB,IAAAA,GAAG,GAAG,CAACH,CAAD,EAAIC,CAAJ,EAAO,CAAP,CAAN;EACD,GAFD,MAEO,IAAIf,CAAC,GAAG,GAAR,EAAa;EAClBiB,IAAAA,GAAG,GAAG,CAACF,CAAD,EAAID,CAAJ,EAAO,CAAP,CAAN;EACD,GAFM,MAEA,IAAId,CAAC,GAAG,GAAR,EAAa;EAClBiB,IAAAA,GAAG,GAAG,CAAC,CAAD,EAAIH,CAAJ,EAAOC,CAAP,CAAN;EACD,GAFM,MAEA,IAAIf,CAAC,GAAG,GAAR,EAAa;EAClBiB,IAAAA,GAAG,GAAG,CAAC,CAAD,EAAIF,CAAJ,EAAOD,CAAP,CAAN;EACD,GAFM,MAEA,IAAId,CAAC,GAAG,GAAR,EAAa;EAClBiB,IAAAA,GAAG,GAAG,CAACF,CAAD,EAAI,CAAJ,EAAOD,CAAP,CAAN;EACD,GAFM,MAEA,IAAId,CAAC,GAAG,GAAR,EAAa;EAClBiB,IAAAA,GAAG,GAAG,CAACH,CAAD,EAAI,CAAJ,EAAOC,CAAP,CAAN;EACD,GAFM,MAEA;EACLE,IAAAA,GAAG,GAAG,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAAN;EACD;;EAED,SAAO,CACLhM,IAAI,CAACiK,KAAL,CAAW,CAAC+B,GAAG,CAAC,CAAD,CAAH,GAASD,CAAV,IAAe,GAA1B,CADK,EAEL/L,IAAI,CAACiK,KAAL,CAAW,CAAC+B,GAAG,CAAC,CAAD,CAAH,GAASD,CAAV,IAAe,GAA1B,CAFK,EAGL/L,IAAI,CAACiK,KAAL,CAAW,CAAC+B,GAAG,CAAC,CAAD,CAAH,GAASD,CAAV,IAAe,GAA1B,CAHK,QAILP,GAAG,CAAC,CAAD,oCAAO,CAJL,CAAP;EAMD;EACD;;;;;;;;;;;;;AAYA,WAAgBS,aAAaC;EAC3B,MAAIA,KAAK,CAACZ,MAAN,CAAa,CAAb,MAAoB,GAAxB,EAA6B;EAC3B,QAAIY,KAAK,CAACnN,MAAN,KAAiB,CAAjB,IAAsBmN,KAAK,CAACnN,MAAN,KAAiB,CAA3C,EAA8C;EAC5C,aAAO+L,SAAS,CAACO,SAAS,CAACa,KAAD,CAAV,CAAhB;EACD,KAFD,MAEO;EACL,aAAOpB,SAAS,CAACoB,KAAD,CAAhB;EACD;EACF,GAND,MAMO,IAAIA,KAAK,CAAC5E,OAAN,CAAc,GAAd,MAAuB,CAAC,CAA5B,EAA+B;EACpC;EACM,QAAA/E,KAAkBwB,YAAY,CAACmI,KAAD,CAA9B;EAAA,QAACjI,MAAM,YAAP;EAAA,QAASxD,KAAK,WAAd;;EAEN,QAAI,CAACwD,MAAD,IAAW,CAACxD,KAAhB,EAAuB;EACrB,aAAO0L,SAAP;EACD;;EACD,QAAM9G,GAAG,GAAGvB,UAAU,CAACrD,KAAD,CAAtB;EACA,QAAM2L,QAAQ,GAAqC,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,CAAnD;EACA,QAAMrN,MAAM,GAAGsG,GAAG,CAACtG,MAAnB;;EAEA,YAAQkF,MAAR;EACE,WAAKzG,GAAL;EACA,WAAKC,IAAL;EACE,aAAK,IAAIuB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,MAApB,EAA4B,EAAEC,CAA9B,EAAiC;EAC/BoN,UAAAA,QAAQ,CAACpN,CAAD,CAAR,GAAcsF,UAAU,CAACe,GAAG,CAACrG,CAAD,CAAJ,CAAxB;EACD;;EACD,eAAOoN,QAAP;;EACF,WAAK1O,GAAL;EACA,WAAKC,IAAL;EACE,aAAK,IAAIqB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,MAApB,EAA4B,EAAEC,CAA9B,EAAiC;EAC/B,cAAIqG,GAAG,CAACrG,CAAD,CAAH,CAAOsI,OAAP,CAAe,GAAf,MAAwB,CAAC,CAA7B,EAAgC;EAC9B8E,YAAAA,QAAQ,CAACpN,CAAD,CAAR,GAAcsF,UAAU,CAACe,GAAG,CAACrG,CAAD,CAAJ,CAAV,GAAqB,GAAnC;EACD,WAFD,MAEO;EACLoN,YAAAA,QAAQ,CAACpN,CAAD,CAAR,GAAcsF,UAAU,CAACe,GAAG,CAACrG,CAAD,CAAJ,CAAxB;EACD;EACF,SAPH;;;EASE,eAAOuM,SAAS,CAACa,QAAD,CAAhB;EAjBJ;EAmBD;;EACD,SAAOD,SAAP;EACD;;ECxJD;;;;;EAKA;;;;;;;;;;;;AAWA,WAAgBE,EAA+BC,WAAmBC;EAChE,SAAOA,KAAK,GAAGhO,GAAQ,CAACiO,gBAAT,CAA6BF,SAA7B,CAAH,GAA6C/N,GAAQ,CAACkO,aAAT,CAA0BH,SAA1B,CAAzD;EACD;EAED;;;;;;;;;;;;AAWA,WAAgBI,SAASC,SAAkBC;EACzC,MAAID,OAAO,CAACE,SAAZ,EAAuB;EACrB,WAAOF,OAAO,CAACE,SAAR,CAAkBC,QAAlB,CAA2BF,SAA3B,CAAP;EACD;;EACD,SAAO,CAAC,CAACD,OAAO,CAACC,SAAR,CAAkBG,KAAlB,CAAwB,IAAI9K,MAAJ,CAAW,YAAU2K,SAAV,YAAX,CAAxB,CAAT;EACD;EAED;;;;;;;;;;;AAUA,WAAgBI,SAASL,SAAkBC;EACzC,MAAID,OAAO,CAACE,SAAZ,EAAuB;EACrBF,IAAAA,OAAO,CAACE,SAAR,CAAkBI,GAAlB,CAAsBL,SAAtB;EACD,GAFD,MAEO;EACLD,IAAAA,OAAO,CAACC,SAAR,IAAqB,MAAIA,SAAzB;EACD;EACF;EAED;;;;;;;;;;;AAUA,WAAgBM,YAAYP,SAAkBC;EAC5C,MAAID,OAAO,CAACE,SAAZ,EAAuB;EACrBF,IAAAA,OAAO,CAACE,SAAR,CAAkBM,MAAlB,CAAyBP,SAAzB;EACD,GAFD,MAEO;EACL,QAAMQ,GAAG,GAAG,IAAInL,MAAJ,CAAW,YAAU2K,SAAV,YAAX,CAAZ;EAEAD,IAAAA,OAAO,CAACC,SAAR,GAAoBD,OAAO,CAACC,SAAR,CAAkBtN,OAAlB,CAA0B8N,GAA1B,EAA+B,GAA/B,CAApB;EACD;EACF;EAED;;;;;;;;;;;;AAWA,WAAgBC,QACdC,UAAqDC;EACrD,MAAI,CAACD,QAAD,IAAa,CAACC,UAAd,IAA4B,CAACA,UAAU,CAACxO,MAA5C,EAAoD;EAClD,WAAO,EAAP;EACD;;EACD,MAAI4N,OAAJ;;EAEA,MAAIW,QAAQ,YAAYE,OAAxB,EAAiC;EAC/Bb,IAAAA,OAAO,GAAGW,QAAV;EACD,GAFD,MAEO,IAAIA,QAAQ,CAACvO,MAAb,EAAqB;EAC1B4N,IAAAA,OAAO,GAAGW,QAAQ,CAAC,CAAD,CAAlB;EACD,GAFM,MAEA;EACL,WAAO,EAAP;EACD;;EACD,MAAMG,SAAS,GAAiB,EAAhC;EACA,MAAM9O,MAAM,GAAGN,MAAM,CAACqP,gBAAP,CAAwBf,OAAxB,CAAf;EACA,MAAM5N,MAAM,GAAGwO,UAAU,CAACxO,MAA1B;;EAEA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,MAApB,EAA4B,EAAEC,CAA9B,EAAiC;EAC/ByO,IAAAA,SAAS,CAACF,UAAU,CAACvO,CAAD,CAAX,CAAT,GAA2BL,MAAM,CAAC4O,UAAU,CAACvO,CAAD,CAAX,CAAjC;EACD;;EACD,SAAOyO,SAAP;EACD;EAID;;;;;;;;;;;;;;;AAcA,WAAgBE,SACdC,IACAC,MAAcC,UACdC;EACAH,EAAAA,EAAE,CAACI,gBAAH,CAAoBH,IAApB,EAA0BC,QAA1B,EAAoCC,OAApC;EACD;EAID;;;;;;;;;;;;;;;;AAeA,WAAgBE,YACdL,IAAiBC,MACjBC,UACAC;EAEAH,EAAAA,EAAE,CAACM,mBAAH,CAAuBL,IAAvB,EAA6BC,QAA7B,EAAuCC,OAAvC;EACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}