/*
Copyright (c) 2018 Daybrush
@name: @daybrush/utils
license: MIT
author: Daybrush
repository: https://github.com/daybrush/utils
@version 1.10.0
*/
!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):n.utils=e()}(this,function(){"use strict";function n(n){if(!p)return"";var e=(p.body||p.documentElement).style,r=d.length;if(typeof e[n]!=u)return n;for(var t=0;t<r;++t){var i="-"+d[t]+"-"+n;if(typeof e[i]!=u)return i}return""}var c="rgb",f="rgba",s="hsl",l="hsla",e=[c,f,s,l],r="function",t="object",i="string",o="number",u="undefined",a=typeof window!=u,p=typeof document!=u&&document,d=["webkit","ms","moz","o"],v=n("transform"),m=n("filter"),h=n("animation"),w=h.replace("animation","keyframes"),S=[{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:'\\"',close:'\\"'},{open:"\\'",close:"\\'"}],g=1e-7,A=1/g,y={cm:function(n){return 96*n/2.54},mm:function(n){return 96*n/254},in:function(n){return 96*n},pt:function(n){return 96*n/72},pc:function(n){return 96*n/6},"%":function(n,e){return n*e/100},vw:function(n,e){return void 0===e&&(e=window.innerWidth),n/100*e},vh:function(n,e){return void 0===e&&(e=window.innerHeight),n/100*e},vmax:function(n,e){return void 0===e&&(e=Math.max(window.innerWidth,window.innerHeight)),n/100*e},vmin:function(n,e){return void 0===e&&(e=Math.min(window.innerWidth,window.innerHeight)),n/100*e}};function b(n){return n&&typeof n===t}function E(n){return Array.isArray(n)}function x(n){return typeof n===i}function R(n){return typeof n===r}function C(n,e,r,t,i){return M(n,e,r)?r:function(i,o,n,u,a){for(var c,e=n;e<u;++e){var r=function(n){var e=o[n].trim();if(e===i.close&&!M(i,o,n))return{value:n};var r=n,t=j(a,function(n){return n.open===e});if(t&&(r=C(t,o,n,u,a)),-1===r)return c=n,"break";c=n=r}(e);if(e=c,"object"==typeof r)return r.value;if("break"===r)break}return-1}(n,e,r+1,t,i)}function M(n,e,r){if(!n.ignore)return null;var t=e.slice(Math.max(r-3,0),r+3).join("");return new RegExp(n.ignore).exec(t)}function O(c,n){var e=x(n)?{separator:n}:n,r=e.separator,f=void 0===r?",":r,s=e.isSeparateFirst,l=e.isSeparateOnlyOpenClose,t=e.isSeparateOpenClose,p=void 0===t?l:t,i=e.openCloseCharacters,d=void 0===i?S:i,o=d.map(function(n){var e=n.open,r=n.close;return e===r?e:e+"|"+r}).join("|"),u=new RegExp("(\\s*"+f+"\\s*|"+o+"|\\s+)","g"),v=c.split(u).filter(Boolean),m=v.length,h=[],w=[];function g(){return w.length&&(h.push(w.join("")),w=[])}for(var A,a=function(n){var e,r,t=v[n].trim(),i=n,o=j(d,function(n){return n.open===t}),u=j(d,function(n){return n.close===t});if(o){if(-1!==(i=C(o,v,n,m,d))&&p)return g()&&s?(A=n,"break"):(h.push(v.slice(n,i+1).join("")),n=i,s?(A=n,"break"):(A=n,"continue"))}else{if(u&&!M(u,v,n)){var a=function(){for(var n=0,e=0,r=arguments.length;e<r;e++)n+=arguments[e].length;for(var t=Array(n),i=0,e=0;e<r;e++)for(var o=arguments[e],u=0,a=o.length;u<a;u++,i++)t[i]=o[u];return t}(d);return a.splice(d.indexOf(u),1),{value:O(c,{separator:f,isSeparateFirst:s,isSeparateOnlyOpenClose:l,isSeparateOpenClose:p,openCloseCharacters:a})}}if(e=t,!((""!==(r=f)&&" "!=r||""!==e&&" "!=e)&&e!==r||l))return g(),s?(A=n,"break"):(A=n,"continue")}-1===i&&(i=m-1),w.push(v.slice(n,i+1).join("")),A=n=i},y=0;y<m;++y){var b=a(y),y=A;if("object"==typeof b)return b.value;if("break"===b)break}return w.length&&h.push(w.join("")),h}function F(n){return O(n,",")}function N(n){var e=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(n);return!e||e.length<4?{}:{prefix:e[1],value:e[2],suffix:e[3]}}function I(n){var e=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(n);if(!e)return{prefix:"",unit:"",value:NaN};var r=e[1],t=e[2];return{prefix:r,unit:e[3],value:parseFloat(t)}}function T(){return Date.now?Date.now():(new Date).getTime()}function L(n,e,r){void 0===r&&(r=-1);for(var t=n.length,i=0;i<t;++i)if(e(n[i],i,n))return i;return r}function k(n,e,r){void 0===r&&(r=-1);for(var t=n.length-1;0<=t;--t)if(e(n[t],t,n))return t;return r}function j(n,e,r){var t=L(n,e);return-1<t?n[t]:r}var B=function(){var r=T(),n=a&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame);return n?n.bind(window):function(n){var e=T();return window.setTimeout(function(){n(e-r)},1e3/60)}}();function D(n){return Object.keys(n)}function U(n,e,r){return Math.max(e,Math.min(n,r))}function z(n,i,o,e){return void 0===e&&(e=n[0]/n[1]),[[H(i[0],g),H(i[0]/e,g)],[H(i[1]*e,g),H(i[1],g)]].filter(function(n){return n.every(function(n,e){var r=i[e],t=H(r,g);return o?n<=r||n<=t:r<=n||t<=n})})[0]||n}function _(n){for(var e=n.length,r=0,t=e-1;0<=t;--t)r+=n[t];return e?r/e:0}function P(n,e){var r=e[0]-n[0],t=e[1]-n[1],i=Math.atan2(t,r);return 0<=i?i:i+2*Math.PI}function q(n){return[0,1].map(function(e){return _(n.map(function(n){return n[e]}))})}function H(n,e){if(!e)return n;var r=1/e;return Math.round(n/e)/r}function G(n){return n.replace("#","")}function W(n){var e=G(n),r=parseInt(e.substring(0,2),16),t=parseInt(e.substring(2,4),16),i=parseInt(e.substring(4,6),16),o=parseInt(e.substring(6,8),16)/255;return isNaN(o)&&(o=1),[r,t,i,o]}function Y(n){var e=n.charAt(1),r=n.charAt(2),t=n.charAt(3),i=n.charAt(4);return["#",e,e,r,r,t,t,i,i].join("")}function $(n){var e,r=n[0],t=n[1],i=n[2];r<0&&(r+=360*Math.floor((Math.abs(r)+360)/360)),r%=360;var o=(1-Math.abs(2*i-1))*t,u=o*(1-Math.abs(r/60%2-1)),a=i-o/2,c=r<60?[o,u,0]:r<120?[u,o,0]:r<180?[0,o,u]:r<240?[0,u,o]:r<300?[u,0,o]:r<360?[o,0,u]:[0,0,0];return[Math.round(255*(c[0]+a)),Math.round(255*(c[1]+a)),Math.round(255*(c[2]+a)),null!==(e=n[3])&&void 0!==e?e:1]}return{RGB:c,RGBA:f,HSL:s,HSLA:l,COLOR_MODELS:e,FUNCTION:r,PROPERTY:"property",ARRAY:"array",OBJECT:t,STRING:i,NUMBER:o,UNDEFINED:u,IS_WINDOW:a,document:p,getCrossBrowserProperty:n,TRANSFORM:v,FILTER:m,ANIMATION:h,KEYFRAMES:w,OPEN_CLOSED_CHARACTERS:S,TINY_NUM:g,REVERSE_TINY_NUM:A,DEFAULT_UNIT_PRESETS:y,cutHex:G,hexToRGBA:W,toFullHex:Y,hslToRGBA:$,stringToRGBA:function(n){if("#"===n.charAt(0))return 4===n.length||5===n.length?W(Y(n)):W(n);if(-1!==n.indexOf("(")){var e=N(n),r=e.prefix,t=e.value;if(!r||!t)return;var i=F(t),o=[0,0,0,1],u=i.length;switch(r){case c:case f:for(var a=0;a<u;++a)o[a]=parseFloat(i[a]);return o;case s:case l:for(a=0;a<u;++a)-1!==i[a].indexOf("%")?o[a]=parseFloat(i[a])/100:o[a]=parseFloat(i[a]);return $(o)}}},dot:function(n,e,r,t){return(n*t+e*r)/(r+t)},isUndefined:function(n){return typeof n==u},isObject:b,isArray:E,isString:x,isNumber:function(n){return typeof n==o},isFunction:R,splitText:O,splitSpace:function(n){return O(n,"")},splitComma:F,splitBracket:N,splitUnit:I,camelize:function(n){return n.replace(/[\s-_]([a-z])/g,function(n,e){return e.toUpperCase()})},decamelize:function(n,t){return void 0===t&&(t="-"),n.replace(/([a-z])([A-Z])/g,function(n,e,r){return""+e+t+r.toLowerCase()})},toArray:function(n){return[].slice.call(n)},now:T,findIndex:L,findLastIndex:k,findLast:function(n,e,r){var t=k(n,e);return-1<t?n[t]:r},find:j,requestAnimationFrame:B,cancelAnimationFrame:function(){var n=a&&(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame);return n?n.bind(window):function(n){clearTimeout(n)}}(),getKeys:D,getValues:function(e){return D(e).map(function(n){return e[n]})},getEntries:function(e){return D(e).map(function(n){return[n,e[n]]})},sortOrders:function(n,i){void 0===i&&(i=[]),n.sort(function(n,e){var r=i.indexOf(n),t=i.indexOf(e);return-1===t&&-1===r?0:-1===r?1:-1===t?-1:r-t})},convertUnitSize:function(n,e){var r=I(n),t=r.value,i=r.unit;if(b(e)){var o=e[i];if(o){if(R(o))return o(t);if(y[i])return y[i](t,o)}}else if("%"===i)return t*e/100;return y[i]?y[i](t):t},between:U,checkBoundSize:z,calculateBoundSize:function(n,r,t,e){if(!e)return n.map(function(n,e){return U(n,r[e],t[e])});var i=n[0],o=n[1],u=!0===e?i/o:e,a=z(n,r,!1,u),c=a[0],f=a[1],s=z(n,t,!0,u),l=s[0],p=s[1];return i<c||o<f?(i=c,o=f):(l<i||p<o)&&(i=l,o=p),[i,o]},sum:function(n){for(var e=0,r=n.length-1;0<=r;--r)e+=n[r];return e},average:_,getRad:P,getCenterPoint:q,getShapeDirection:function(n){var e=q(n),r=P(e,n[0]),t=P(e,n[1]);return r<t&&t-r<Math.PI||t<r&&t-r<-Math.PI?1:-1},getDist:function(n,e){return Math.sqrt(Math.pow((e?e[0]:0)-n[0],2)+Math.pow((e?e[1]:0)-n[1],2))},throttle:H,throttleArray:function(r,t){return r.forEach(function(n,e){r[e]=H(r[e],t)}),r},counter:function(n){for(var e=[],r=0;r<n;++r)e.push(r);return e},replaceOnce:function(n,e,r){var t=!1;return n.replace(e,function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return t?n[0]:(t=!0,x(r)?r:r.apply(void 0,n))})},flat:function(n){return n.reduce(function(n,e){return n.concat(e)},[])},deepFlat:function r(n){return n.reduce(function(n,e){return E(e)?n.push.apply(n,r(e)):n.push(e),n},[])},$:function(n,e){return e?p.querySelectorAll(n):p.querySelector(n)},hasClass:function(n,e){return n.classList?n.classList.contains(e):!!n.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))},addClass:function(n,e){n.classList?n.classList.add(e):n.className+=" "+e},removeClass:function(n,e){var r;n.classList?n.classList.remove(e):(r=new RegExp("(\\s|^)"+e+"(\\s|$)"),n.className=n.className.replace(r," "))},fromCSS:function(n,e){if(!n||!e||!e.length)return{};var r;if(n instanceof Element)r=n;else{if(!n.length)return{};r=n[0]}for(var t={},i=window.getComputedStyle(r),o=e.length,u=0;u<o;++u)t[e[u]]=i[e[u]];return t},addEvent:function(n,e,r,t){n.addEventListener(e,r,t)},removeEvent:function(n,e,r,t){n.removeEventListener(e,r,t)}}});
//# sourceMappingURL=utils.min.js.map
