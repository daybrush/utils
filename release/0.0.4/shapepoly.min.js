/*
Copyright (c) 2018 Daybrush
license: MIT
author: Daybrush
repository: https://github.com/daybrush/shape-poly
@version 0.0.4
*/
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.ShapePoly=e()}(this,function(){"use strict";var t,B="top",D="bottom",G="left",J="right",K=((t={})[B]=D,t[D]=B,t[G]=J,t[J]=G,t),W="__shape-poly",x=W+"-side",A="position:absolute;",N=A+"width:100%;height:100%;border-radius:inherit;\nbackground-color:inherit;transform-origin:inherit;";function w(t,e,i){return void 0===i&&(i=""),'<div class="'+x+t+'" style="'+e+'">'+i+"</div>"}function Q(t){return Math.sin(Math.floor(t/2)*Math.PI/t)}function U(t){return Math.cos(Math.PI/t)}function j(t){var e,i,r,o,n,a,s,d,c,u,l,h,v=t.strokeWidth,f=void 0===v?0:v,p=t.side,k=void 0===p?3:p,g=t.split,M=void 0===g?1:g,b=t.starRadius,m=void 0===b?100:b,y=t.stroke,I=void 0===y?"black":y,P=t.direction,R=void 0===P?D:P,S=M*(100===m?1:2),W=function(t){var e=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(t);if(!e)return{unit:"",value:NaN};var i=e[2];return{unit:e[3],value:parseFloat(i)}}(""+f),x=W.unit,A=W.value,N=""+A/2+x,w=K[R],j=R===B||R===D,E=j?G:B,T=j?B:G,q=function(t,e,i){if(t%4==0)return"100%";var r=U(t),o=0;if(t%2==0)o=i?r:1/r;else{var n=Q(t);o=i?.5/n*(1+r):2/(1+r)*n}return"calc(100% * "+o+" + "+e+" * "+(1-o)+")"}(k,f,j),_=R===B||R===J?-1:1,C=100===m?0:(i=m,100*(r=U(e=k))<=i?0:Math.atan((r-i/100)/Math.sin(Math.PI/e))/Math.PI*180),F=function(t,e,i,r){var o=i?1/Math.cos(i*Math.PI/180):1,n=1/e;if(4<t){var a=Math.sin(Math.PI/t),s=Math.cos(Math.PI/t);n*=t%4==0?a/s:t%2==0?a:a/Q(t)}else if(1===e)return"100%";return"calc(100% * "+(n*=o)+" - "+r+" * "+n+" + "+r+")"}(k,S,C,f),H=j?F:f,L=j?f:F,O=360/k+2*C,V=(o=S,n=_*C,a=A,s=x,d=j?"X":"Y",c=Math.cos(n*Math.PI/180),(u=[]).push("translate"+d+"(-"+50*c*o+"%)"),1<o&&u.push("translate"+d+"("+a/2*(c*o-1)+s+")"),0!==n&&u.push("rotate("+n+"deg)"),"transform:"+u.join(" ")+";"),X=[];X.push(w+":0;\n  "+T+":auto;\n  "+E+":50%;"+V+(l=N,"transform-origin:"+((h=j)?l:"50%")+" "+(h?"50%":l)+";")+"\n  width:"+H+";height:"+L+";border-radius:"+N+";background:"+I+";");for(var Y=0;Y<k;++Y)for(var $=0;$<S;++$){if(0!==Y*S+$){var z=0===$?"transform:rotate("+_*O+"deg)":C&&$===S/2?"transform:rotate("+2*-_*C+"deg)":"transform:none;";X.push(T+":auto;"+E+": calc(100% - "+f+");"+z)}}return{sides:X,percent:"padding-top:"+q}}function e(t){for(var e,i,r,o,n=t.className,a=void 0===n?W:n,s=t.strokeWidth,d=void 0===s?0:s,c=t.side,u=void 0===c?3:c,l=t.split,h=void 0===l?1:l,v=t.starRadius,f=void 0===v?100:v,p=t.stroke,k=void 0===p?"black":p,g=t.direction,M=void 0===g?D:g,b=t.container,m=void 0===b?(e="div",i=a,(r=document.createElement(e)).className=i,r):b,y=j({strokeWidth:d,side:u,split:h,starRadius:f,stroke:k,direction:M}),I=y.sides,P=y.percent,R=I.length-1;1<=R;--R)o=w(" "+x+R,N+I[R],o);o=w(" "+x+"0",A+"display:inline-block;"+I[0],o);var S=w("-percent","position:relative;width:100%;"+P);return"static"===getComputedStyle(m).position&&(m.style.position="relative"),m.insertAdjacentHTML("beforeend",o+S),m}return{dom:function(t){return e({strokeWidth:t.getAttribute("data-stroke-width")||void 0,stroke:t.getAttribute("data-stroke")||void 0,direction:t.getAttribute("data-direction")||void 0,container:t})},css:j,be:function(t,e){var i=e.strokeWidth,r=void 0===i?0:i,o=e.side,n=void 0===o?3:o,a=e.starRadius,s=void 0===a?100:a,d=e.stroke,c=void 0===d?"black":d,u=e.direction,l=void 0===u?D:u,h=t.querySelectorAll("."+x),v=h.length,f=v/(n*(100!==s?2:1));if(v&&!(f%1)){var p=t.querySelector("."+x+"-percent"),k=j({strokeWidth:r,side:n,split:f,starRadius:s,stroke:c,direction:l}),g=k.sides,M=k.percent;g.forEach(function(t,e){h[e].style.cssText+=t}),p.style.cssText+=M}},poly:e,VERSION:"0.0.4"}});
//# sourceMappingURL=shapepoly.min.js.map
