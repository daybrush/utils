<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>dom.ts - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <link type="text/css" rel="stylesheet" href="styles/daybrush.css">
    <link type="text/css" rel="stylesheet" href="styles/custom.css">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
    <meta name="description" content="dom.ts - Documentation"/>

</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <h2><a href="index.html">Home</a></h2><h2 class="custom"><a href="https://github.com/daybrush/utils" target="_blank" class="menu-item" id="repository" >Github repo</a></h2><div class="search"><div class="input-area"><input type="text"/></div><button></button></div><ul class="namespaces"><li file="utils" class="parent"><a href="Utils.html">Utils</a><h4><a href="Utils.html#static methods">Static Methods</a></h4><ul class='static methods'><li data-type='method'><a href="Utils.html#.average">average</a></li><li data-type='method'><a href="Utils.html#.between">between</a></li><li data-type='method'><a href="Utils.html#.calculateBoundSize">calculateBoundSize</a></li><li data-type='method'><a href="Utils.html#.camelize">camelize</a></li><li data-type='method'><a href="Utils.html#.convertUnitSize">convertUnitSize</a></li><li data-type='method'><a href="Utils.html#.decamelize">decamelize</a></li><li data-type='method'><a href="Utils.html#.dot">dot</a></li><li data-type='method'><a href="Utils.html#.getCenterPoint">getCenterPoint</a></li><li data-type='method'><a href="Utils.html#.getDist">getDist</a></li><li data-type='method'><a href="Utils.html#.getKeys">getKeys</a></li><li data-type='method'><a href="Utils.html#.getRad">getRad</a></li><li data-type='method'><a href="Utils.html#.getShapeDirection">getShapeDirection</a></li><li data-type='method'><a href="Utils.html#.isArray">isArray</a></li><li data-type='method'><a href="Utils.html#.isFunction">isFunction</a></li><li data-type='method'><a href="Utils.html#.isObject">isObject</a></li><li data-type='method'><a href="Utils.html#.isString">isString</a></li><li data-type='method'><a href="Utils.html#.isUndefined">isUndefined</a></li><li data-type='method'><a href="Utils.html#.sortOrders">sortOrders</a></li><li data-type='method'><a href="Utils.html#.splitBracket">splitBracket</a></li><li data-type='method'><a href="Utils.html#.splitComma">splitComma</a></li><li data-type='method'><a href="Utils.html#.splitSpace">splitSpace</a></li><li data-type='method'><a href="Utils.html#.splitUnit">splitUnit</a></li><li data-type='method'><a href="Utils.html#.sum">sum</a></li><li data-type='method'><a href="Utils.html#.toArray">toArray</a></li></ul></li><li file="dom" class="parent"><a href="DOM.html">DOM</a><h4><a href="DOM.html#static methods">Static Methods</a></h4><ul class='static methods'><li data-type='method'><a href="DOM.html#.$">$</a></li><li data-type='method'><a href="DOM.html#.addClass">addClass</a></li><li data-type='method'><a href="DOM.html#.addEvent">addEvent</a></li><li data-type='method'><a href="DOM.html#.fromCSS">fromCSS</a></li><li data-type='method'><a href="DOM.html#.hasClass">hasClass</a></li><li data-type='method'><a href="DOM.html#.removeClass">removeClass</a></li><li data-type='method'><a href="DOM.html#.removeEvent">removeEvent</a></li></ul></li><li file="crossbrowser" class="parent"><a href="CrossBrowser.html">CrossBrowser</a><h4><a href="CrossBrowser.html#static methods">Static Methods</a></h4><ul class='static methods'><li data-type='method'><a href="CrossBrowser.html#.cancelAnimationFrame">cancelAnimationFrame</a></li><li data-type='method'><a href="CrossBrowser.html#.find">find</a></li><li data-type='method'><a href="CrossBrowser.html#.findIndex">findIndex</a></li><li data-type='method'><a href="CrossBrowser.html#.getCrossBrowserProperty">getCrossBrowserProperty</a></li><li data-type='method'><a href="CrossBrowser.html#.now">now</a></li><li data-type='method'><a href="CrossBrowser.html#.requestAnimationFrame">requestAnimationFrame</a></li></ul><h4><a href="CrossBrowser.html#static members">Static Members</a></h4><ul class='static members'><li data-type='member'><a href="CrossBrowser.html#.ANIMATION">ANIMATION</a></li><li data-type='member'><a href="CrossBrowser.html#.FILTER">FILTER</a></li><li data-type='member'><a href="CrossBrowser.html#.KEYFRAMES">KEYFRAMES</a></li><li data-type='member'><a href="CrossBrowser.html#.TRANSFORM">TRANSFORM</a></li></ul></li><li file="consts" class="parent"><a href="Consts.html">Consts</a><h4><a href="Consts.html#static members">Static Members</a></h4><ul class='static members'><li data-type='member'><a href="Consts.html#.ARRAY">ARRAY</a></li><li data-type='member'><a href="Consts.html#.document">document</a></li><li data-type='member'><a href="Consts.html#.FUNCTION">FUNCTION</a></li><li data-type='member'><a href="Consts.html#.IS_WINDOW">IS_WINDOW</a></li><li data-type='member'><a href="Consts.html#.NUMBER">NUMBER</a></li><li data-type='member'><a href="Consts.html#.OBJECT">OBJECT</a></li><li data-type='member'><a href="Consts.html#.PROPERTY">PROPERTY</a></li><li data-type='member'><a href="Consts.html#.STRING">STRING</a></li><li data-type='member'><a href="Consts.html#.UNDEFINED">UNDEFINED</a></li></ul></li><li file="color" class="parent"><a href="Color.html">Color</a><h4><a href="Color.html#static methods">Static Methods</a></h4><ul class='static methods'><li data-type='method'><a href="Color.html#.cutHex">cutHex</a></li><li data-type='method'><a href="Color.html#.hexToRGBA">hexToRGBA</a></li><li data-type='method'><a href="Color.html#.hslToRGBA">hslToRGBA</a></li><li data-type='method'><a href="Color.html#.stringToRGBA">stringToRGBA</a></li><li data-type='method'><a href="Color.html#.toFullHex">toFullHex</a></li></ul><h4><a href="Color.html#static members">Static Members</a></h4><ul class='static members'><li data-type='member'><a href="Color.html#.COLOR_MODELS">COLOR_MODELS</a></li><li data-type='member'><a href="Color.html#.HSL">HSL</a></li><li data-type='member'><a href="Color.html#.HSLA">HSLA</a></li><li data-type='member'><a href="Color.html#.RGB">RGB</a></li><li data-type='member'><a href="Color.html#.RGBA">RGBA</a></li></ul></li></ul><ul class="global"><li file="global"  class="parent"><a href="global.html">Global</a><h4><a href="global.html#type definitions">Type Definitions</a></h4><ul class='type definitions'><li data-type='typedef'><a href="global.html#IArrayFormat">IArrayFormat</a></li><li data-type='typedef'><a href="global.html#IEventMap">IEventMap</a></li><li data-type='typedef'><a href="global.html#IObject">IObject</a></li></ul></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">dom.ts</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import { document } from "./consts";
import { IObject, IEventMap } from "./types";

/**
 * @namespace DOM
 */

export function $&lt;K extends keyof HTMLElementTagNameMap>(selectors: K, multi: true):
  NodeListOf&lt;HTMLElementTagNameMap[K]>;
export function $&lt;K extends keyof SVGElementTagNameMap>(selectors: K, multi: true): NodeListOf&lt;SVGElementTagNameMap[K]>;
export function $&lt;E extends Element = Element>(selectors: string, multi: true): NodeListOf&lt;E>;

export function $&lt;K extends keyof HTMLElementTagNameMap>(selectors: K, multi?: false): HTMLElementTagNameMap[K] | null;
export function $&lt;K extends keyof SVGElementTagNameMap>(selectors: K, multi?: false): SVGElementTagNameMap[K] | null;
export function $&lt;E extends Element = Element>(selectors: string, multi?: false): E | null;
/**
 * Returns all element descendants of node that
 * match selectors.
 */

/**
 * Checks if the specified class value exists in the element's class attribute.
 * @memberof DOM
 * @param - A DOMString containing one or more selectors to match
 * @param - If multi is true, a DOMString containing one or more selectors to match against.
 * @example
import {$} from "@daybrush/utils";

console.log($("div")); // div element
console.log($("div", true)); // [div, div] elements
*/
export function $&lt;E extends Element = Element>(selectors: string, multi?: boolean): E | NodeListOf&lt;E> | null {
  return multi ? document.querySelectorAll&lt;E>(selectors) : document.querySelector&lt;E>(selectors);
}

/**
* Checks if the specified class value exists in the element's class attribute.
* @memberof DOM
* @param element - target
* @param className - the class name to search
* @return {boolean} return false if the class is not found.
* @example
import {hasClass} from "@daybrush/utils";

console.log(hasClass(element, "start")); // true or false
*/
export function hasClass(element: Element, className: string) {
  if (element.classList) {
    return element.classList.contains(className);
  }
  return !!element.className.match(new RegExp(`(\\s|^)${className}(\\s|$)`));
}

/**
* Add the specified class value. If these classe already exist in the element's class attribute they are ignored.
* @memberof DOM
* @param element - target
* @param className - the class name to add
* @example
import {addClass} from "@daybrush/utils";

addClass(element, "start");
*/
export function addClass(element: Element, className: string) {
  if (element.classList) {
    element.classList.add(className);
  } else {
    element.className += ` ${className}`;
  }
}

/**
* Removes the specified class value.
* @memberof DOM
* @param element - target
* @param className - the class name to remove
* @example
import {removeClass} from "@daybrush/utils";

removeClass(element, "start");
*/
export function removeClass(element: Element, className: string) {
  if (element.classList) {
    element.classList.remove(className);
  } else {
    const reg = new RegExp(`(\\s|^)${className}(\\s|$)`);

    element.className = element.className.replace(reg, " ");
  }
}

/**
* Gets the CSS properties from the element.
* @memberof DOM
* @param elements - elements
* @param properites - the CSS properties
* @return returns CSS properties and values.
* @example
import {fromCSS} from "@daybrush/utils";

console.log(fromCSS(element, ["left", "opacity", "top"])); // {"left": "10px", "opacity": 1, "top": "10px"}
*/
export function fromCSS(
  elements: Element | Element[] | NodeListOf&lt;Element>, properties: string[]): IObject&lt;any> {
  if (!elements || !properties || !properties.length) {
    return {};
  }
  let element;

  if (elements instanceof Element) {
    element = elements;
  } else if (elements.length) {
    element = elements[0];
  } else {
    return {};
  }
  const cssObject: IObject&lt;any> = {};
  const styles = window.getComputedStyle(element) as any;
  const length = properties.length;

  for (let i = 0; i &lt; length; ++i) {
    cssObject[properties[i]] = styles[properties[i]];
  }
  return cssObject;
}

export function addEvent&lt;K extends keyof IEventMap>(
  el: EventTarget, type: K, listener: (e: IEventMap[K]) => void, options?: boolean | AddEventListenerOptions): void;
/**
* Sets up a function that will be called whenever the specified event is delivered to the target
* @memberof DOM
* @param - event target
* @param - A case-sensitive string representing the event type to listen for.
* @param - The object which receives a notification (an object that implements the Event interface) when an event of the specified type occurs
* @param - An options object that specifies characteristics about the event listener. The available options are:
* @example
import {addEvent} from "@daybrush/utils";

addEvent(el, "click", e => {
  console.log(e);
});
*/
export function addEvent(
  el: EventTarget,
  type: string, listener: (e: Event) => void,
  options?: boolean | AddEventListenerOptions) {
  el.addEventListener(type, listener, options);
}

export function removeEvent&lt;K extends keyof IEventMap>(
  el: EventTarget, type: K, listener: (e: IEventMap[K]) => void): void;
/**
* removes from the EventTarget an event listener previously registered with EventTarget.addEventListener()
* @memberof DOM
* @param - event target
* @param - A case-sensitive string representing the event type to listen for.
* @param - The EventListener function of the event handler to remove from the event target.
* @example
import {addEvent, removeEvent} from "@daybrush/utils";
const listener = e => {
  console.log(e);
};
addEvent(el, "click", listener);
removeEvent(el, "click", listener);
*/
export function removeEvent(el: EventTarget, type: string, listener: (e: Event) => void) {
  el.removeEventListener(type, listener);
}
</code></pre>
        </article>
    </section>





<style>


nav li[file="dom"]:after {
    display: none;
}
nav li[file="dom"] h4, nav li[file="dom"] ul {
    display: block;
}
</style>

</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/daybrush/jsdoc">JSDoc 0.3.7</a> on Tue Nov 03 2020 01:31:14 GMT+0900 (GMT+09:00) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
<script src="scripts/utils.min.js"></script>
<script src="scripts/search.js"></script>
<script src="scripts/custom.js"></script>
</body>
</html>
